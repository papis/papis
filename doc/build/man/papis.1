.\" Man page generated from reStructuredText.
.
.TH "PAPIS" "1" "Aug 29, 2018" "0.7" "papis"
.SH NAME
papis \- Papis Documentation
.
.nr rst2man-indent-level 0
.
.de1 rstReportMargin
\\$1 \\n[an-margin]
level \\n[rst2man-indent-level]
level margin: \\n[rst2man-indent\\n[rst2man-indent-level]]
-
\\n[rst2man-indent0]
\\n[rst2man-indent1]
\\n[rst2man-indent2]
..
.de1 INDENT
.\" .rstReportMargin pre:
. RS \\$1
. nr rst2man-indent\\n[rst2man-indent-level] \\n[an-margin]
. nr rst2man-indent-level +1
.\" .rstReportMargin post:
..
.de UNINDENT
. RE
.\" indent \\n[an-margin]
.\" old: \\n[rst2man-indent\\n[rst2man-indent-level]]
.nr rst2man-indent-level -1
.\" new: \\n[rst2man-indent\\n[rst2man-indent-level]]
.in \\n[rst2man-indent\\n[rst2man-indent-level]]u
..
.sp
Papis is a command\-line based document and bibliography manager. Its
command\-line interface (\fICLI\fP) is heavily tailored after
\fI\%Git\fP\&.
.SH QUICK START
.sp
This is a tutorial that should be enough to get you started using papis.  Papis
tries to be as simple and lightweight as possible, therefore its database
structure is ridiculously simple.
.sp
But before taking a look at its database structure let us see how is the daily
usage of papis for a regular user. This tutorial is command\-line based, so you
should be familiar with opening a terminal window in your system.
.SS Creating a new library
.sp
We will illustrate the process by creating a first library with a couple of
\fB\(gapdf\(ga\fP documents in it. Papis can be highly configured using configuration
files. Many programs use configuration files without you maybe being aware of
it. Papis\(aq configuration files are stored together inside the folder
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
~/.config/papis
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Bear in mind that \fB~\fP means "Home Directory". Inside this directory a
configuration file is found,
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
~/.config/papis/config
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Right now we will open this file to edit and we will create a library.  In
papis everything should be human\-readable and human\-editable. So adding a
library is as easy as adding two lines to this configuration file.
.sp
Say that you want to create a "papers" library, where you can finally order
all those pdf\(aqs hanging around in your computer. We can create this library
by putting inside the config file the two lines:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
[papers]
dir = ~/Documents/mypapers
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
In the above lines we have created a library with the name \fBpapers\fP which is
located in the directory \fB~/Documents/mypapers\fP\&.  So all the documents that
we will be adding to the library will be located inside
\fB~/Documents/mypapers\fP, and nowhere else. Everything that papis needs to take
care of your papers library is inside the \fB~/Documents/mypapers\fP directory,
self\-contained.
.sp
So now add the two lines to the \fB~/.config/papis/config\fP file and save it, and we will
proceed to add some documents.
.SS Adding the first document
.sp
If you don\(aqt have any special pdf lying around let me choose one for you:
\fI\%link\fP\&.
You can download this document and we are going to add it into the \fBpapers\fP
library.
.sp
Supposing that you have the document in the current directory and you have renamed
the document to \fBdocument.pdf\fP, you can do the following to add this into your
library:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis add document.pdf \-\-set author "Newton" \-\-set title "Principia Mathematica"
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
And it\(aqs done! We have added our first book to the library.
.sp
Let us see how this works exactly. Papis consists of many commands, and one of
these commands is \fBadd\fP\&. \fBAdd\fP itself has many flags, which are options for the
given command. In the example above we have used the flags \fBauthor\fP and
\fBtitle\fP to tell papis to use \fBNewton\fP as the author\(aqs name and \fBPrincipia
Mathematica\fP as the document\(aqs title. You can see all the possible flags
for the command \fBadd\fP if you use the \fBhelp\fP flag, i.e., if you issue the
following command
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis add \-\-help
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Now you are asking yourself, what happened to the pdf file? Where it is
stored?  Is it stored in an obscure database somewhere in my computer? No,
papis just copied the \fBdocument.pdf\fP file into a folder inside the library
folder \fB~/Documents/papers/\fP\&. If you go now there, you will see that a folder
with a weird name has been created. Inside of the folder there is the
\fBdocument.pdf\fP file and another file, \fBinfo.yaml\fP\&.
.sp
If you open the \fBinfo.yaml\fP file you will see the following contents:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
author: Newton
title: Principia Mathematica
files:
\- document.pdf
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
This file is all that papis uses to store the information of your newly added
document. It is stored in a nicely readable \fI\%yaml\fP format.
.sp
Now you already have your first document, and.. you can open it!
Just do
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis open
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
and the document should just open in your default pdf viewer.
You can change the default pdf viewer in your configuration file
(see section on configuration\-file).
.sp
Now you can try to repeat the same process with another pdf file lying around.
When you hit \fBpapis open\fP again, it will ask you which one you want.
If you input parts of the title or the author\(aqs name it will try to match
what you typed with the paper you are looking for, so that you can get the
paper that you are looking for very easily.
.SH INSTALLATION
.SS Using pip
.sp
The easiest way of installing papis is using the \fBPyPi\fP repositories and
the package manager \fBpip3\fP, just open a terminal and type in
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
pip3 install papis
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
If you are on GNU/Linux like systems you might need to type \fBsudo\fP
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
sudo pip3 install papis
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
of if you prefer installing it locally then simply type
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
pip3 install \-\-user papis
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
You can also \fBupdate\fP papis with \fBpip\fP
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
pip3 install \-\-upgrade papis
.ft P
.fi
.UNINDENT
.UNINDENT
.SS NixOS
.sp
If you are running \fI\%NixOS\fP or you have the
\fI\%nix\fP package manager installed, you can install
papis by running:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
nix\-env \-i papis
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
If you like papis, just clone the repository
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
git clone git@github.com:papis/papis.git
cd papis
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
and start hacking it with:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
nix\-shell \-\-expr \(aqwith import <nixpkgs> {}; papis.overrideDerivation (drv: { src = ./.; })\(aq
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
This command will provide you a shell with all the dependencies required.
.SS From source
.sp
First of all you have to get the code, open a terminal and hit
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
git clone https://github.com/alejandrogallo/papis.git
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
or download the \fI\%zip file\fP\&.
.sp
Go inside of the \fBpapis\fP source folder and you can either use the \fBMakefile\fP
or install it with \fBpython3\fP\&.
.SS Using the Makefile
.sp
If you want to install it globally, just hit
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
sudo make install
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
If you want to install it locally:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
make install\-local
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
If you want to install it locally and have the development version:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
make install\-dev\-local
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
And to see the available targets hit:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
make help
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Using python3
.sp
The general command that you have to hit is by using the \fBsetup.py\fP script:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
python3 setup\&.py install
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Again, if you want to install it locally because you don\(aqt have administrative rights
in your computer you can just simply type
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
python3 setup\&.py install \-\-user
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
If you want to develop on the code, you can also alternatively hit
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
python3 setup\&.py develop \-\-user
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
\fBWARNING:\fP
.INDENT 0.0
.INDENT 3.5
If you install the package locally, the program \fBpapis\fP will be installed
by default into your \fB~/.local/bin\fP direcrtory, so that you will have to
set your \fBPATH\fP accordingly.
.sp
One way of doing this in \fBbash\fP shells (\fBLinux\fP and the like, also
\fBUbuntu\fP on Windows or \fBcygwin\fP) is by adding the following line to your
\fB~/.bashrc\fP file
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
export PATH=$PATH:$HOME/.local/bin
.ft P
.fi
.UNINDENT
.UNINDENT
.UNINDENT
.UNINDENT
.SS Requirements
.sp
Papis needs the following packages that are sometimes not installed with the
system \fBpython3\fP distribution
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
python3\-setuptools
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
However if you have a general enough python distribution they should be installed.
.SH CONFIGURATION FILE
.sp
Papis uses a configuration file in \fIINI\fP format. You can then have
several libraries which work independently from each other.
.sp
For example, maybe you want to have one library for papers and the other
for some miscellaneous documents. An example for that is given below
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
[papers]
dir = ~/Documents/papers

[settings]
editor = vim
default\-library = papers

[books]
dir = ~/Documents/books
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
A more complete example of a configuration file is the following
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
[settings]
# Open file with rifle, a nice python program
opentool = rifle
# Use gvim as a graphical editor
xeditor = gvim
# Use ranger as a file browser, too a  nice python package
file\-browser = ranger
# Ask for confirmation when doing papis add ...
add\-confirm = True
# Edit the info.yaml file before adding a doc into the library
# papis add \-\-edit
add\-edit = True
# Open the files before adding a document into the library
# papis add \-\-open
add\-open = True

# Define custom default match and header formats
match\-format = {doc[tags]}{doc.subfolder}{doc[title]}{doc[author]}{doc[year]}

# Define header format with colors and multiline support
header\-format = <red>{doc.html_escape[title]}</red>
  <span color=\(aq#ff00ff\(aq>  {doc.html_escape[author]}</span>
  <yellow>   ({doc.html_escape[year]})</yellow>


# Define a lib
[papers]
dir = ~/Documents/papers

# Define a lib for books
[books]
dir = ~/Documents/books
database\-backend = whoosh

# Define a lib for Videos
[videos]
dir = ~/Videos/courses

# Define a lib for contacts, why not?
# To make it work you just have to define some default settings
[contacts]
dir = ~/contacts/general
database\-backend = papis
mode = contact
header\-format = {doc[first_name]} {doc[last_name]}
match\-format = {doc[org]} {doc[first_name]} {doc[last_name]}
browse\-query\-format = {doc[first_name]} {doc[last_name]}
add\-open = False

rofi\-gui\-gui\-eh = 2
rofi\-gui\-header\-format = %(header\-format)s
                     {doc[tel][cell]}
tk\-gui\-header\-format = %(rofi\-gui\-header\-format)s
vim\-gui\-header\-format = Title: %(header\-format)s
                        Tel  : {doc[tel]}
                        Mail : {doc[email]}
                     {doc[empty]}
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Local configuration files
.sp
Papis also offers the possibility of creating local configuration files.
The name of the local configuration file can be configured with the
\fBlocal\-config\-file\fP setting.
.sp
The local configuration file can be found in the current directory of
where you are issuing the papis command or in the directory of the
library that you are considering in the papis command.
.sp
For instance let us suppose that you are in some project folder
\fB~/Documents/myproject\fP and you have a local config file there
with a definition of a new library. Then whenever you are
in the \fB~/Documents/myproject\fP directory papis will also source the
local configuration file found there.
.sp
On the other hand, also if you have a configuration file in the library folder
for your papers, for instance in
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
~/Documents/papers/.papis.config
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
then everytime that you use this library also papis will source this
configuration file.
.SS Default settings
.SS General
.INDENT 0.0
.TP
\fBlocal\-config\-file\fP (\fI\%config\-settings\-local\-config\-file\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fB\&.papis.config\fP
.UNINDENT
.UNINDENT
.sp
Name AND relative path of the local configuration file that papis
will additionally read if the file is present in the current
directory or in the base directory of a given library.
.sp
This is useful for instance if you have a library somewhere
for which you want special configuration settings to be set
but you do not want these settings to cluster in your configuration
file. It is also useful if you\(aqre sharing a library with someone
else and you want them to have the same settings in that library as
you. Imagine you\(aqre sharing a library of datasheets with your friend
Fulano. You have your library at
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
~/Documents/lib\-with\-fulano
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
and you\(aqve set a local configuration file there
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
~/Documents/lib\-with\-fulano/.papis.config
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
then whenever Fulano uses that library and the file is also present,
his papis program will also read the configuration settings at
the path above.
.INDENT 0.0
.TP
\fBdir\-umask\fP (\fI\%config\-settings\-dir\-umask\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fB493\fP
.UNINDENT
.UNINDENT
.sp
This is the default \fBumask\fP that will be used to create the new
documents\(aq directories.
.INDENT 0.0
.TP
\fBuse\-git\fP (\fI\%config\-settings\-use\-git\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fBFalse\fP
.UNINDENT
.UNINDENT
.sp
Some commands will issue git commands if this option is set to \fBTrue\fP\&.
For example in \fBmv\fP or \fBrename\fP\&.
.INDENT 0.0
.TP
\fBbrowse\-query\-format\fP (\fI\%config\-settings\-browse\-query\-format\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fB{doc[title]} {doc[author]}\fP
.UNINDENT
.UNINDENT
.sp
The query string that is to be searched for in the \fBbrowse\fP command
whenever a search engine is used.
.INDENT 0.0
.TP
\fBsearch\-engine\fP (\fI\%config\-settings\-search\-engine\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fBhttps://duckduckgo.com\fP
.UNINDENT
.UNINDENT
.sp
Search engine to be used by some commands like \fBbrowse\fP\&.
.INDENT 0.0
.TP
\fBuser\-agent\fP (\fI\%config\-settings\-user\-agent\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fBMozilla/5.0 (Macintosh; Intel Mac OS X 10_9_3)\fP
.UNINDENT
.UNINDENT
.sp
User agent used by papis whenever it obtains information from external
servers.
.INDENT 0.0
.TP
\fBscripts\-short\-help\-regex\fP (\fI\%config\-settings\-scripts\-short\-help\-regex\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fB\&.*papis\-short\-help: *(.*)\fP
.UNINDENT
.UNINDENT
.sp
This is the format of the short help indicator in external papis
commands.
.INDENT 0.0
.TP
\fBinfo\-name\fP (\fI\%config\-settings\-info\-name\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fBinfo.yaml\fP
.UNINDENT
.UNINDENT
.sp
The default name of the information files.
.INDENT 0.0
.TP
\fBdoc\-url\-key\-name\fP (\fI\%config\-settings\-doc\-url\-key\-name\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fBdoc_url\fP
.UNINDENT
.UNINDENT
.sp
Some documents might have associated apart from an url also a file url,
the key name appearing in the information file is defined by
this setting.
.INDENT 0.0
.TP
\fBdefault\-library\fP (\fI\%config\-settings\-default\-library\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fBpapers\fP
.UNINDENT
.UNINDENT
.sp
The name of the library that is to be searched when \fBpapis\fP
is run without library arguments.
.INDENT 0.0
.TP
\fBexport\-text\-format\fP (\fI\%config\-settings\-export\-text\-format\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fB{doc[author]}. {doc[title]}. {doc[journal]} {doc[pages]} {doc[month]} {doc[year]}\fP
.UNINDENT
.UNINDENT
.sp
The default output papis format for \fBpapis export \-\-text\fP\&.
.INDENT 0.0
.TP
\fBformat\-doc\-name\fP (\fI\%config\-settings\-format\-doc\-name\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fBdoc\fP
.UNINDENT
.UNINDENT
.sp
This setting controls the name of the document in the papis format strings
like in format strings such as \fBmatch\-format\fP or \fBheader\-format\fP\&.
For instance, if you are managing videos, you might want to
set this option to \fBvid\fP in order to set  the \fBheader\-format\fP to
\fB{doc[title]} \- {doc[director]} \- {doc[duration]}\fP\&.
.INDENT 0.0
.TP
\fBmatch\-format\fP (\fI\%config\-settings\-match\-format\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fB{doc[tags]}{doc.subfolder}{doc[title]}{doc[author]}{doc[year]}\fP
.UNINDENT
.UNINDENT
.sp
Default format that is used to match a document against in order to select
it. For example if the \fBmatch\-format\fP is equal to
\fB{doc[year]} {doc[author]}\fP then title of a document will not work
to match a document, only the year and author.
.INDENT 0.0
.TP
\fBheader\-format\fP (\fI\%config\-settings\-header\-format\fP)
.INDENT 7.0
.IP \(bu 2
.INDENT 2.0
.TP
\fBDefault\fP: 
.INDENT 7.0
.INDENT 3.5
.sp
.nf
.ft C
<red>{doc.html_escape[title]}</red>
 <span color=\(aq#00ff00\(aq>{doc.html_escape[author]}</span>
  <span color=\(aq#00ffaa\(aq>({doc.html_escape[year]})</span> [<yellow>{doc.html_escape[tags]}</yellow>]
.ft P
.fi
.UNINDENT
.UNINDENT
.UNINDENT
.UNINDENT
.UNINDENT
.sp
Default format that is used to show a document in order to select it.
.INDENT 0.0
.TP
\fBformat\-jinja2\-enable\fP (\fI\%config\-settings\-format\-jinja2\-enable\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fBFalse\fP
.UNINDENT
.UNINDENT
.sp
This setting is to enable the \fI\%jinja2\fP template
engine to render the papis templates being used, as \fBheader\-format\fP,
\fBmatch\-format\fP etc...
.sp
For instance you could set the option \fBheader\-format\fP to
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
<span color=\(aq#ff00ff\(aq>{{doc.html_escape["title"]}}</span>
<span color=\(aq#00ff00\(aq>  {{doc.html_escape["author"]}}</span>
<span color=\(aq#00ffaa\(aq>   ({{doc.html_escape["year"]}}) </span>
{%\- if doc.has(\(aqtags\(aq) %}<span>[<yellow>{{doc[\(aqtags\(aq]}}</yellow>] </span>{%\- endif %}
{%\- if doc.has(\(aqcitations\(aq) %}<red>{{doc[\(aqcitations\(aq]|length}}</red>{%\- endif %}
{%\- if doc.has(\(aqurl\(aq) %}
<span>    {{doc.html_escape["url"]}}</span>
{%\- endif %}
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
To use it, just install jinja2.
.INDENT 0.0
.TP
\fBheader\-format\-file\fP (\fI\%config\-settings\-header\-format\-file\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fBNone\fP
.UNINDENT
.UNINDENT
.sp
This option should have the path of a file with the \fBheader\-format\fP
template. Sometimes templates can get big so this is a way
of not cluttering the config file with text.
.sp
As an example you would set
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
[papers]

header\-format\-file = ~/.papis/config/styles/header.txt
.ft P
.fi
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
\fBinfo\-allow\-unicode\fP (\fI\%config\-settings\-info\-allow\-unicode\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fBTrue\fP
.UNINDENT
.UNINDENT
.sp
This flag is to be set if you want to allow unicode characters
in your info file or not. If it is set to false then a representation
for the unicode characters will be written in its place.
Since we should be living in an unicode world, it is set to \fBTrue\fP
by default.
.SS Tools options
.INDENT 0.0
.TP
\fBopentool\fP (\fI\%config\-settings\-opentool\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fBxdg\-open\fP
.UNINDENT
.UNINDENT
.sp
This is the general program that will be used to open documents.
As for now papis is not intended to detect the type of document to be open
and decide upon it how to open the document. You should set this
to the right program for the tool. If you are in linux you might want
to take a look at \fI\%ranger\fP or let
the default handle it in your system.
For mac users you might set this to \fBopen\fP\&.
.INDENT 0.0
.TP
\fBbrowser\fP (\fI\%config\-settings\-browser\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fB$BROWSER\fP
.UNINDENT
.UNINDENT
.sp
Program to be used for opening websites, the default is the environment
variable \fB$BROWSER\fP\&.
.INDENT 0.0
.TP
\fBpicktool\fP (\fI\%config\-settings\-picktool\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fBpapis.pick\fP
.UNINDENT
.UNINDENT
.sp
This is the program used whenever papis asks you to pick a document
or options in general.
.INDENT 0.0
.TP
.B Possible options are:
.INDENT 7.0
.IP \(bu 2
papis.pick
.IP \(bu 2
vim
.IP \(bu 2
dmenu
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
\fBeditor\fP (\fI\%config\-settings\-editor\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fB$EDITOR\fP
.UNINDENT
.UNINDENT
.sp
Editor used to edit files in papis, for instance for the \fBpapis edit\fP
command. It defaults to the \fB$EDITOR\fP environment variable, if this is
not set then it will default to the \fB$VISUAL\fP environment variable.
Otherwise the default editor in your system will be used.
.INDENT 0.0
.TP
\fBxeditor\fP (\fI\%config\-settings\-xeditor\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fBxdg\-open\fP
.UNINDENT
.UNINDENT
.sp
Sometimes papis might use an editor that uses a windowing system
(GUI Editor), you can set this to your preferred gui based editor, e.g.
\fBgedit\fP, \fBxemacs\fP, \fBgvim\fP to name a few.
.INDENT 0.0
.TP
\fBfile\-browser\fP (\fI\%config\-settings\-file\-browser\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fBxdg\-open\fP
.UNINDENT
.UNINDENT
.sp
File browser to be used when opening a directory, it defaults to the
default file browser in your system, however you can set it to different
file browsers such as \fBdolphin\fP, \fBthunar\fP, \fBranger\fP to name a few.
.SS Bibtex options
.INDENT 0.0
.TP
\fBbibtex\-journal\-key\fP (\fI\%config\-settings\-bibtex\-journal\-key\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fBjournal\fP
.UNINDENT
.UNINDENT
.sp
Journal publishers may request abbreviated journal titles. This
option allows the user to set the key for the journal entry when using
\fBpapis export \-\-bibtex\fP\&.
.sp
Set as \fBfull_journal_title\fP or \fBabbrev_journal_title\fP for
whichever style required. Default is \fBjournal\fP\&.
.INDENT 0.0
.TP
\fBextra\-bibtex\-keys\fP (\fI\%config\-settings\-extra\-bibtex\-keys\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: 
.nf
\(ga\(ga
.fi

.nf
\(ga\(ga
.fi

.UNINDENT
.UNINDENT
.sp
When exporting documents in bibtex format, you might want to add
non\-standard bibtex keys such as \fBdoc_url\fP or \fBtags\fP, you can add
these here as comma separated values, for example
\fBextra\-bibtex\-keys = tags, doc_url\fP\&.
.INDENT 0.0
.TP
\fBextra\-bibtex\-types\fP (\fI\%config\-settings\-extra\-bibtex\-types\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: 
.nf
\(ga\(ga
.fi

.nf
\(ga\(ga
.fi

.UNINDENT
.UNINDENT
.sp
Allow non\-standard bibtex types to be recognized, e.g,
\fBextra\-bibtex\-types = wikipedia, video, song\fP\&.
See 
.nf
\(ga
.fi
bibtex reference
.INDENT 0.0
.INDENT 3.5
<\fI\%http://mirror.easyname.at/ctan/biblio/bibtex/base/btxdoc.pdf\fP>\(ga_.
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
\fBmultiple\-authors\-format\fP (\fI\%config\-settings\-multiple\-authors\-format\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fB{au[surname]}, {au[given_name]}\fP
.UNINDENT
.UNINDENT
.sp
When retrieving automatic author information from services like
crossref.org, papis usually builds the \fBauthor\fP field for the
given document. The format how every single author name is built
is given by this setting, for instance you could customize it
by the following:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
multiple\-authors\-format = {au[surname]} \-\- {au[given_name]}
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
which would given in the case of Albert Einstein the string
\fBEinstein \-\- Albert\fP\&.
.INDENT 0.0
.TP
\fBmultiple\-authors\-separator\fP (\fI\%config\-settings\-multiple\-authors\-separator\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \(ga\(ga and \(ga\(ga
.UNINDENT
.UNINDENT
.sp
Similarly to \fBmultiple\-authors\-format\fP, this is the string that
separates single authors in the \fBauthor\fP field. If it is set to
\(ga\(ga and \(ga\(ga then you would have \fB<author 1> and <author 2> and ....\fP
in the \fBauthor\fP field.
.SS Add command options
.INDENT 0.0
.TP
\fBref\-format\fP (\fI\%config\-settings\-ref\-format\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fB{doc[doi]}\fP
.UNINDENT
.UNINDENT
.sp
This flag is set to change the \fBref\fP flag in the info.yaml file
when a document is imported. For example: I prefer the format
FirstAuthorYear e.g. Plews2019. This would be achieved by the
following:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
ref\-format = {doc[author_list][0][surname]}{doc[year]}
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
The default behavior is to set the doi as the ref.
.INDENT 0.0
.TP
\fBadd\-confirm\fP (\fI\%config\-settings\-add\-confirm\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fBFalse\fP
.UNINDENT
.UNINDENT
.sp
If set to \fBTrue\fP, everytime you run \fBpapis add\fP
the flag \fB\-\-confirm\fP will be added automatically. If is set to \fBTrue\fP
and you add it, i.e., you run \fBpapis add \-\-confirm\fP, then it will
fave the contrary effect, i.e., it will not ask for confirmation.
.INDENT 0.0
.TP
\fBadd\-name\fP (\fI\%config\-settings\-add\-name\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fBempty string\fP
.UNINDENT
.UNINDENT
.sp
Default name for the folder of newly added documents. For example, if you
the folder of your documents to be named after the format
\fBauthor\-title\fP then you should set it to
the papis format: \fB{doc[author]}\-{doc[title]}\fP\&.
Per default a hash followed by the author name is created.
.INDENT 0.0
.TP
\fBfile\-name\fP (\fI\%config\-settings\-file\-name\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fBNone\fP
.UNINDENT
.UNINDENT
.sp
Same as \fBadd\-name\fP, but for files, not folders. If it is not set,
the names of the files will be cleaned and taken \fIas\-is\fP\&.
.INDENT 0.0
.TP
\fBadd\-interactive\fP (\fI\%config\-settings\-add\-interactive\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fBFalse\fP
.UNINDENT
.UNINDENT
.sp
If set to \fBTrue\fP, everytime you run \fBpapis add\fP
the flag \fB\-\-interactive\fP will be added automatically. If is set to
\fBTrue\fP and you add it, i.e., you run \fBpapis add \-\-interactive\fP, then it
will fave the contrary effect, i.e., it will not run in interactive mode.
.INDENT 0.0
.TP
\fBadd\-edit\fP (\fI\%config\-settings\-add\-edit\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fBFalse\fP
.UNINDENT
.UNINDENT
.sp
If set to \fBTrue\fP, everytime you run \fBpapis add\fP
the flag \fB\-\-edit\fP will be added automatically. If is set to
\fBTrue\fP and you add it, i.e., you run \fBpapis add \-\-edit\fP, then it
will fave the contrary effect, i.e., it will not prompt to edit the info
file.
.INDENT 0.0
.TP
\fBadd\-open\fP (\fI\%config\-settings\-add\-open\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fBFalse\fP
.UNINDENT
.UNINDENT
.sp
If set to \fBTrue\fP, everytime you run \fBpapis add\fP
the flag \fB\-\-open\fP will be added automatically. If is set to
\fBTrue\fP and you add it, i.e., you run \fBpapis add \-\-open\fP, then it
will fave the contrary effect, i.e., it will not open the attached files
before adding the document to the library.
.SS Browse command options
.INDENT 0.0
.TP
\fBbrowse\-key\fP (\fI\%config\-settings\-browse\-key\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fBurl\fP
.UNINDENT
.UNINDENT
.sp
This command provides the key that is used to generate the
url. For users that \fBpapis add \-\-from\-doi\fP, setting browse\-key
to \fBdoi\fP constructs the url from dx.doi.org/DOI, providing a
much more accurate url.
.sp
Default value is set to \fBurl\fP\&. If the user needs functionality
with the \fBsearch\-engine\fP option, set the option to an empty
string e.g.
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
browse\-key = \(aq\(aq
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Edit command options
.INDENT 0.0
.TP
\fBnotes\-name\fP (\fI\%config\-settings\-notes\-name\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fBnotes.tex\fP
.UNINDENT
.UNINDENT
.sp
In \fBpapis edit\fP you can edit notes about the document. \fBnotes\-name\fP
is the default name of the notes file, which by default is supposed
to be a TeX file.
.SS Marks
.INDENT 0.0
.TP
\fBopen\-mark\fP (\fI\%config\-settings\-open\-mark\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fBFalse\fP
.UNINDENT
.UNINDENT
.sp
If this option is set to \fBTrue\fP, then every time that papis opens
a document it will ask to open a mark first.
If it is set to \fBFalse\fP, then doing
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis open \-\-mark
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
will avoid opening a mark.
.INDENT 0.0
.TP
\fBmark\-key\-name\fP (\fI\%config\-settings\-mark\-key\-name\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fBmarks\fP
.UNINDENT
.UNINDENT
.sp
This is the default key name for the marks in the info file, for
example if you set \fBmark\-key\-name = bookmarks\fP then you would have
in your \fBinfo.yaml\fP file
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
author: J. Krishnamurti
bookmarks:
\- name: Chapter 1
  value: 120
.ft P
.fi
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
\fBmark\-format\-name\fP (\fI\%config\-settings\-mark\-format\-name\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fBmark\fP
.UNINDENT
.UNINDENT
.sp
This is the name of the mark to be passed to the options
\fBmark\-header\-format\fP etc... E.g. if you set \fBmark\-format\-name = m\fP
then you could set \fBmark\-header\-format = {m[value]} \- {m[name]}\fP\&.
.INDENT 0.0
.TP
\fBmark\-header\-format\fP (\fI\%config\-settings\-mark\-header\-format\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fB{mark[name]} \- {mark[value]}\fP
.UNINDENT
.UNINDENT
.sp
This is the format in which the mark will appear whenever the user
has to pick one, you can change this in order to make \fBmarks\fP work
in the way you like. Per default it is assumed that every mark
has a \fBname\fP and a \fBvalue\fP key, but this you can change.
.INDENT 0.0
.TP
\fBmark\-match\-format\fP (\fI\%config\-settings\-mark\-match\-format\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fB{mark[name]} \- {mark[value]}\fP
.UNINDENT
.UNINDENT
.sp
Format in which the mark name has to match the user input.
.INDENT 0.0
.TP
\fBmark\-opener\-format\fP (\fI\%config\-settings\-mark\-opener\-format\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fBxdg\-open\fP
.UNINDENT
.UNINDENT
.sp
Due to the difficulty to generalize opening a general document
at a given bookmark, the user should set this in whichever way
it suits their needs. For example
.INDENT 0.0
.IP \(bu 2
If you are using the pdf viewer \fBevince\fP and you want to open a
mark, you would use
.INDENT 2.0
.INDENT 3.5
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
mark\-opener\-format = evince \-p {mark[value]}
.ft P
.fi
.UNINDENT
.UNINDENT
.UNINDENT
.UNINDENT
.IP \(bu 2
If you are using \fBokular\fP you would use
.INDENT 2.0
.INDENT 3.5
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
mark\-opener\-format = okular \-p {mark[value]}
.ft P
.fi
.UNINDENT
.UNINDENT
.UNINDENT
.UNINDENT
.IP \(bu 2
If you are using \fBzathura\fP, do
.INDENT 2.0
.INDENT 3.5
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
mark\-opener\-format = zathura \-P {mark[value]}
.ft P
.fi
.UNINDENT
.UNINDENT
.UNINDENT
.UNINDENT
.UNINDENT
.SS Databases
.INDENT 0.0
.TP
\fBdefault\-query\-string\fP (\fI\%config\-settings\-default\-query\-string\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fB\&.\fP
.UNINDENT
.UNINDENT
.sp
This is the default query that a command will take if no
query string is typed in the command line. For example this is
the query that is passed to the command open whenever no search
string is typed:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis open
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Imagine you want to have all your papers whenever you do not
specify an input query string, then you would set
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
default\-query\-string = author="John Smith"
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
and whenever you typed \fBpapis open\fP, onlye the \fBJohn Smith\fP authored
papers would appear. Notice that the current example has been
done assuming the \fBdatabase\-backend = papis\fP\&.
.INDENT 0.0
.TP
\fBdatabase\-backend\fP (\fI\%config\-settings\-database\-backend\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fBpapis\fP
.UNINDENT
.UNINDENT
.sp
The backend to use in the database. As for now papis supports
the own database system \fBpapis\fP and
\fI\%whoosh\fP\&.
.INDENT 0.0
.TP
\fBuse\-cache\fP (\fI\%config\-settings\-use\-cache\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fBTrue\fP
.UNINDENT
.UNINDENT
.sp
Set to \fBFalse\fP if you do not want to use the \fBcache\fP
for the given library. This is only effective if you\(aqre using the
\fBpapis\fP database\-backend.
.INDENT 0.0
.TP
\fBcache\-dir\fP (\fI\%config\-settings\-cache\-dir\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fBNone\fP
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
\fBwhoosh\-schema\-fields\fP (\fI\%config\-settings\-whoosh\-schema\-fields\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fB[\(aqdoi\(aq]\fP
.UNINDENT
.UNINDENT
.sp
Python list with the \fBTEXT\fP fields that should be included in the
whoosh database schema. For instance say that you want to be able
to search for the \fBdoi\fP and \fBref\fP of the documents, then you could
include
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
whoosh\-schema\-fields = [\(aqdoi\(aq, \(aqref\(aq]
.ft P
.fi
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
\fBwhoosh\-schema\-prototype\fP (\fI\%config\-settings\-whoosh\-schema\-prototype\fP)
.INDENT 7.0
.IP \(bu 2
.INDENT 2.0
.TP
\fBDefault\fP: 
.INDENT 7.0
.INDENT 3.5
.sp
.nf
.ft C
{
"author": TEXT(stored=True),
"title": TEXT(stored=True),
"year": TEXT(stored=True),
"tags": TEXT(stored=True),
}
.ft P
.fi
.UNINDENT
.UNINDENT
.UNINDENT
.UNINDENT
.UNINDENT
.sp
This is the model for the whoosh schema, check
\fI\%the documentation\fP
for more information.
.SS Other
.INDENT 0.0
.TP
\fBcitation\-string\fP (\fI\%config\-settings\-citation\-string\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fB*\fP
.UNINDENT
.UNINDENT
.sp
string that can be displayed in header if the reference has a
citation
.sp
Default set to \(aq*\(aq
.INDENT 0.0
.TP
\fBunique\-document\-keys\fP (\fI\%config\-settings\-unique\-document\-keys\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fB[\(aqdoi\(aq,\(aqref\(aq,\(aqisbn\(aq,\(aqisbn10\(aq,\(aqurl\(aq,\(aqdoc_url\(aq]\fP
.UNINDENT
.UNINDENT
.sp
Whenever you add a new document, papis tries to figure out if
you have already added this document before. This is partially done
checking for some special keys, and checking if they match.
Which keys are checked against is decided by this option, which
should be formatted as a python list, just as in the default value.
.sp
For instance, if you add a paper with a given \fBdoi\fP, and then you
add another document with the same \fBdoi\fP, then papis will notify
you that there is already another document with this \fBdoi\fP because
the \fBdoi\fP key is part of the \fBunique\-document\-keys\fP option.
.SS Vim gui
.INDENT 0.0
.TP
\fBhelp\-key\fP (\fI\%config\-vim\-gui\-help\-key\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fBh\fP
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
\fBopen\-key\fP (\fI\%config\-vim\-gui\-open\-key\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fBo\fP
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
\fBedit\-key\fP (\fI\%config\-vim\-gui\-edit\-key\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fBe\fP
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
\fBsearch\-key\fP (\fI\%config\-vim\-gui\-search\-key\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fB/\fP
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
\fBdelete\-key\fP (\fI\%config\-vim\-gui\-delete\-key\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fBdd\fP
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
\fBopen\-dir\-key\fP (\fI\%config\-vim\-gui\-open\-dir\-key\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fB<S\-o>\fP
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
\fBnext\-search\-key\fP (\fI\%config\-vim\-gui\-next\-search\-key\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fBn\fP
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
\fBprev\-search\-key\fP (\fI\%config\-vim\-gui\-prev\-search\-key\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fBN\fP
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
\fBheader\-format\fP (\fI\%config\-vim\-gui\-header\-format\fP)
.INDENT 7.0
.IP \(bu 2
.INDENT 2.0
.TP
\fBDefault\fP: 
.INDENT 7.0
.INDENT 3.5
.sp
.nf
.ft C
Title : {doc[title]}
Author: {doc[author]}
Year  : {doc[year]}
\-\-\-\-\-\-\-
.ft P
.fi
.UNINDENT
.UNINDENT
.UNINDENT
.UNINDENT
.UNINDENT
.SS dmenu gui
.sp
See \fI\%dmenu\fP and the python wrapper
\fI\%here\fP for more information.
You will need to install the latter to make use of this function,
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
pip3 install dmenu
.ft P
.fi
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
\fBlines\fP (\fI\%config\-dmenu\-gui\-lines\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fB20\fP
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
\fBcase_insensitive\fP (\fI\%config\-dmenu\-gui\-case_insensitive\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fBTrue\fP
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
\fBbottom\fP (\fI\%config\-dmenu\-gui\-bottom\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fBTrue\fP
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
\fBfont\fP (\fI\%config\-dmenu\-gui\-font\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fBmonospace\-14\fP
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
\fBbackground\fP (\fI\%config\-dmenu\-gui\-background\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fB#000000\fP
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
\fBforeground\fP (\fI\%config\-dmenu\-gui\-foreground\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fB#55ff55\fP
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
\fBbackground_selected\fP (\fI\%config\-dmenu\-gui\-background_selected\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fB#005500\fP
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
\fBforeground_selected\fP (\fI\%config\-dmenu\-gui\-foreground_selected\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fB#f0f0f0\fP
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
\fBheader\-format\fP (\fI\%config\-dmenu\-gui\-header\-format\fP)
.INDENT 7.0
.IP \(bu 2
\fBDefault\fP: \fBNone\fP
.UNINDENT
.UNINDENT
.sp
This is not set per default, and it will default to
the general header\-format if not set.
.SH THE INFO.YAML FILE
.sp
At the heart of papis there is the information file.  The info file contains
all information about the documents.
.sp
It uses the \fI\%yaml\fP syntax to store
information, which is a very human readable language. It is quite format free,
\fIpapis\fP does not assume that any special information should be there.
.sp
If you are storing papers with papis, then you most probably would like to
store author and title in there,
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
author: Isaac Newton
title: Opticks, or a treatise of the reflections refractions, inflections and
  colours of light
files:
  \- document.pdf
.ft P
.fi
.UNINDENT
.UNINDENT
.SH THE LIBRARY STRUCTURE
.sp
One of the things that makes papis interesting is the fact
that its library structure is nearly nonexistent.
.sp
A papis library is linked to a directory, where all the documents are (and
possibly sublibraries).  What papis does is simply to go to the library folder
and look for all subfolders that contain a information file, which by default
is a \fBinfo.yaml\fP file.
.sp
Every subfolder that has an \fBinfo.yaml\fP file in it is a valid papis document.
As an example let us consider the following library
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
/home/fulano/Documents/papers/
├── folder1
│\ \  └── paper.pdf
├── folder2
│\ \  ├── folder3
│\ \  │\ \  ├── info.yaml
│\ \  │\ \  └── blahblahblah.pdf
│\ \  └── folder4
│\ \      ├── info.yaml
│\ \      └── output.pdf
├── classics
│\ \  └── folder5
│\ \      ├── info.yaml
│\ \      └── output.pdf
├── physics
│\ \  └── newton
│\ \      └── principia
│\ \          ├── document.pdf
│\ \          ├── supplements.pdf
│\ \          └── info.yaml
└─── rpa
 \ \  └── bohm
 \ \      ├── info.yaml
 \ \      ├── notes.tex
 \ \      └── output.pdf
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
The first thing that you might notice is that there are really many folders of
course. Just to check that you undeerstand exactly what is a document, just
please think about which of these pdfs is not a valid papis document... That\(aqs
right!, \fBfolder1/paper.pdf\fP is not a valid document since the folder1 does not
contain any \fBinfo.yaml\fP file. You see also that it does not matter how deep the
folder structure is, you can have in your library a \fBphysics\fP folder, where you
have a \fBnewton\fP folder, where also you have a folder containing the actual book
\fBdocument.pdf\fP plus some supplementary information \fBsupplements.pdf\fP\&.  In this
case inside the \fBinfo.yaml\fP you would have the following \fBfile\fP section
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
files:
\- document.pdf
\- supplements.pdf
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
so that you are telling papis that in this folder there are two relevant files.
.SH THE DATABASE
.sp
One of the things that makes papis interesting is the fact that
there can be many backends for the database system, including no database.
.sp
Right now there are three types of database in that the user can use:
.INDENT 0.0
.IP \(bu 2
No database
.IP \(bu 2
Simple cache based database
.IP \(bu 2
\fI\%Whoosh\fP  based database.
.UNINDENT
.sp
If you just plan to have or have few dozen of documents in your library,
probably you\(aqll have ample performance with the two first options.
However if you\(aqre reaching higher numbers, 500, 1000, 2000 documents,
you\(aqll probably want to use the \fBWhoosh\fP backend for very good performance.
.sp
You can select the databases using the flag
database\-backend\&.
.SS Papis database
.sp
The fact that there is no database means that papis should crawl through
the library folder and see which folders have an \fBinfo.yaml\fP file, which
is for slow computers quite bad.
.sp
Papis implements a very rudimentary caching system. A cache is created for
every library. Inside the cache only the paths to the different valid papis
documents are stored.
.sp
These cache files are stored per default in
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
~/.cache/papis/
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Some papis commands update the cache automatically, for example the \fBadd\fP and
\fBrm\fP command clear the cache when something is changed.
.SS Clearing the cache
.sp
To clear the cache for a given library you can use the flag
\fB\-\-clear\-cache\fP, e.g.
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis \-\-clear\-cache
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Query language
.sp
Since version \fI0.3\fP there is a query language in place for the searching
of documents.
The queries can contain any field of the info file, i.e.,
\fBauthor=einstein publisher = review\fP will match documents that have
a matching \fBauthor\fP with \fBeinstein\fP AND having a \fBpublisher\fP
matching \fBreview\fP\&.
The AND part here is important, since
only the \fBAND\fP filter is implemented in this simple query
language, at the moment it is not possible to do an \fBOR\fP\&.
If you need this, you should consider using the
\fI\%Whoosh database\fP\&.
.sp
To illustrate it here are some examples:
.INDENT 0.0
.INDENT 3.5
.INDENT 0.0
.IP \(bu 2
Open documents where the author key matches \(aqalbert\(aq (ignoring case),
year matches \(aq19\(aq (i.e., 1990, 2019, 1920):
.INDENT 2.0
.INDENT 3.5
.sp
.nf
.ft C
papis open \(aqauthor = albert year = 05\(aq
.ft P
.fi
.UNINDENT
.UNINDENT
.IP \(bu 2
Add the restriction to the previous search that the usual matching matches
the substring \(aqlicht\(aq in addition to the previously selected
.INDENT 2.0
.INDENT 3.5
.sp
.nf
.ft C
papis open \(aqauthor = albert year = 05 licht\(aq
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
This is not to be mixed with the restriction that the key \fIyear\fP matches
\fI\(aq05 licht\(aq\fP, which will not match any year, i.e.
.INDENT 2.0
.INDENT 3.5
.sp
.nf
.ft C
papis open \(aqauthor = albert year = "05 licht"\(aq
.ft P
.fi
.UNINDENT
.UNINDENT
.UNINDENT
.UNINDENT
.UNINDENT
.SS Disabling the cache
.sp
You can disable the cache using the configuration setting \fBuse\-cache\fP
and set it to \fBFalse\fP, e.g.
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
[settings]

use\-cache = False

[books]
# Use cache for books but don\(aqt use for the rest of libraries
use\-cache = True
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Whoosh database
.sp
Papis has also the possibility to use the blazing fast and pure python
\fI\%Whoosh library\fP\&.
Its performance is orders of magnitude better than the crude cache based
database.
.sp
Of course, the performance comes at a cost. To achieve more performance
a database backend should create an index with information about the documents.
Parsing a user query means going to the index and matching the query to
what is found in the index. This means that the index can not in general
have all the information that the info file of the documents includes.
.sp
In other words, the whoosh index will store only certain fields from the
document\(aqs info files. The good news is that we can tell papis exactly
which fields we want to index. These flags are
.INDENT 0.0
.IP \(bu 2
whoosh\-schema\-fields
.IP \(bu 2
whoosh\-schema\-prototype
.UNINDENT
.sp
The prototype is for advanced users. If you just want to say, include
the publisher to the fields that you can search in, then you can put
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
whoosh\-schema\-fields = [\(aqpublisher\(aq]
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
and you will be able to find documents by their publisher.
For example, without this line set for publisher, the query
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis open publisher:*
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
will not return anything, since the publisher field is not being stored.
.SS Query language
.sp
The whoosh database uses the whoosh query language which is much more
advanced than the query language in the \fI\%Papis database\fP\&.
.sp
The whoosh query language supports both \fBAND\fP and \fBOR\fP, for instance
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis open \(aq(author:einstein AND year:1905) OR title:einstein\(aq
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
will give papers of einstein in the year 1905 together with all papers
where einstein appears in the title.
.sp
You can read more about the whoosh query language
\fI\%here\fP\&.
.SH COMMANDS
.SS Main
.SS Examples
.INDENT 0.0
.IP \(bu 2
To override some configuration options, you can use the flag \fB\-\-set\fP, for
instance, if you want to override the editor used and the opentool to open
documents, you can just type
.INDENT 2.0
.INDENT 3.5
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis \-\-set editor gedit \-\-set opentool firefox edit
papis \-\-set editor gedit \-\-set opentool firefox open
.ft P
.fi
.UNINDENT
.UNINDENT
.UNINDENT
.UNINDENT
.IP \(bu 2
If you want to list the libraries and pick one before sending a database
query to papis, use \fB\-\-pick\-lib\fP as such
.INDENT 2.0
.INDENT 3.5
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis \-\-pick\-lib open \(aqeinstein relativity\(aq
.ft P
.fi
.UNINDENT
.UNINDENT
.UNINDENT
.UNINDENT
.UNINDENT
.SS Cli
.SS papis
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis [OPTIONS] COMMAND [ARGS]...
.ft P
.fi
.UNINDENT
.UNINDENT
Options.INDENT 0.0
.TP
.B \-h, \-\-help
Show this message and exit.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-version
Show the version and exit.
.UNINDENT
.INDENT 0.0
.TP
.B \-v, \-\-verbose
Make the output verbose (equivalent to \-\-log DEBUG)
.UNINDENT
.INDENT 0.0
.TP
.B \-l, \-\-lib <lib>
Choose a library name or library path (unamed library)
.UNINDENT
.INDENT 0.0
.TP
.B \-c, \-\-config <config>
Configuration file to use
.UNINDENT
.INDENT 0.0
.TP
.B \-\-log <log>
Logging level
.UNINDENT
.INDENT 0.0
.TP
.B \-\-pick\-lib
Pick library to use
.UNINDENT
.INDENT 0.0
.TP
.B \-\-clear\-cache, \-\-cc
Clear cache of the library used
.UNINDENT
.INDENT 0.0
.TP
.B \-j, \-\-cores <cores>
Number of cores to run some multicore functionality
.UNINDENT
.INDENT 0.0
.TP
.B \-s, \-\-set <set>
Set key value, e.g., \-\-set info\-name information.yaml  \-\-set opentool evince
.UNINDENT
.SS Add
.sp
The add command is one of the central commands of the papis command line
interface. It is a very versatile command with a fair amount of options.
.sp
There are also customization settings availabe for this command, check out
the configuration page for add.
.SS Examples
.INDENT 0.0
.IP \(bu 2
Add a document located in \fB~/Documents/interesting.pdf\fP and name the
folder where it will be stored in the database \fBinteresting\-paper\-2021\fP
.INDENT 2.0
.INDENT 3.5
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis add ~/Documents/interesting.pdf \-\-name interesting\-paper\-2021
.ft P
.fi
.UNINDENT
.UNINDENT
.UNINDENT
.UNINDENT
.sp
if you want to add directly some key values, like \fBauthor\fP, \fBtitle\fP
and \fBtags\fP, you can also run the following:
.INDENT 2.0
.INDENT 3.5
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis add ~/Documents/interesting.pdf \e
    \-\-name interesting\-paper\-2021 \e
    \-\-set author \(aqJohn Smith\(aq \e
    \-\-set title \(aqThe interesting life of bees\(aq \e
    \-\-set year 1985 \e
    \-\-set tags \(aqbiology interesting bees\(aq
.ft P
.fi
.UNINDENT
.UNINDENT
.UNINDENT
.UNINDENT
.IP \(bu 2
Add a paper that you have locally in a file and get the paper information
through its \fBdoi\fP identifier (in this case \fB10.10763/1.3237134\fP as an
example):
.INDENT 2.0
.INDENT 3.5
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis add ~/Documents/interesting.pdf \-\-from\-doi 10.10763/1.3237134
.ft P
.fi
.UNINDENT
.UNINDENT
.UNINDENT
.UNINDENT
.IP \(bu 2
Add paper to a library named \fBmachine\-learning\fP from \fBarxiv.org\fP
.INDENT 2.0
.INDENT 3.5
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis \-l machine\-learning add \-\-from\-url https://arxiv.org/abs/1712.03134
.ft P
.fi
.UNINDENT
.UNINDENT
.UNINDENT
.UNINDENT
.IP \(bu 2
If you do not want copy the original pdfs into the library, you can
also tell papis to just create a link to them, for example
.INDENT 2.0
.INDENT 3.5
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis add \-\-link ~/Documents/interesting.pdf \-\-from\-doi 10.10763/1.3237134
.ft P
.fi
.UNINDENT
.UNINDENT
.UNINDENT
.UNINDENT
.sp
will add an entry into the papis library, but the pdf document will remain
at \fB~/Documents/interesting.pdf\fP, and in the document\(aqs folder
there will be a link to \fB~/Documents/interesting.pdf\fP instead of the
file itself. Of course you always have to be sure that the
document at \fB~/Documents/interesting.pdf\fP does not disappear, otherwise
you will end up without a document to open.
.UNINDENT
.SS Examples in python
.sp
There is a python function in the add module that can be used to interact
in a more effective way in python scripts,
.INDENT 0.0
.TP
.B papis.commands.add.run(paths, data={}, name=None, file_name=None, subfolder=None, interactive=False, from_bibtex=None, from_yaml=None, from_folder=None, from_url=None, from_doi=None, from_pmid=None, confirm=False, open_file=False, edit=False, commit=False, link=False, no_document=False)
.INDENT 7.0
.TP
.B Parameters
.INDENT 7.0
.IP \(bu 2
\fBpaths\fP (\fI[\fP\fI]\fP) \-\- Paths to the documents to be added
.IP \(bu 2
\fBdata\fP (\fIdict\fP) \-\- Data for the document to be added.
If more data is to be retrieved from other sources, the data dictionary
will be updated from these sources.
.IP \(bu 2
\fBname\fP (\fIstr\fP) \-\- Name of the folder where the document will be stored
.IP \(bu 2
\fBfile_name\fP (\fIstr\fP) \-\- File name of the document\(aqs files to be stored.
.IP \(bu 2
\fBsubfolder\fP (\fIstr\fP) \-\- Folder within the library where the document\(aqs folder
should be stored.
.IP \(bu 2
\fBinteractive\fP (\fIbool\fP) \-\- Wether or not interactive functionality of this command
should be activated.
.IP \(bu 2
\fBfrom_bibtex\fP (\fIstr\fP) \-\- Filepath where to find a file containing bibtex info.
.IP \(bu 2
\fBfrom_yaml\fP (\fIstr\fP) \-\- Filepath where to find a file containing yaml info.
.IP \(bu 2
\fBfrom_folder\fP (\fIstr\fP) \-\- Filepath where to find a papis document (folder +
info file) to be added to the library.
.IP \(bu 2
\fBfrom_url\fP (\fIstr\fP) \-\- Url to try to download information and files from.
.IP \(bu 2
\fBfrom_url\fP \-\- doi number to try to download information from.
.IP \(bu 2
\fBfrom_url\fP \-\- pmid number to try to download information from.
.IP \(bu 2
\fBconfirm\fP (\fIbool\fP) \-\- Wether or not to ask user for confirmation before adding.
.IP \(bu 2
\fBopen_file\fP (\fIbool\fP) \-\- Wether or not to ask user for opening file before adding.
.IP \(bu 2
\fBedit\fP (\fIbool\fP) \-\- Wether or not to ask user for editing the infor file
before adding.
.IP \(bu 2
\fBcommit\fP (\fIbool\fP) \-\- Wether or not to ask user for committing before adding,
in the case of course that the library is a git repository.
.IP \(bu 2
\fBno_document\fP (\fIbool\fP) \-\- Wether or not the document has no files attached.
.UNINDENT
.UNINDENT
.UNINDENT
.SS Cli
.SS papis add
.sp
Add a document into a given library
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis add [OPTIONS] [FILES]...
.ft P
.fi
.UNINDENT
.UNINDENT
Options.INDENT 0.0
.TP
.B \-h, \-\-help
Show this message and exit.
.UNINDENT
.INDENT 0.0
.TP
.B \-s, \-\-set <set>
Set some information before
.UNINDENT
.INDENT 0.0
.TP
.B \-d, \-\-dir <dir>
Subfolder in the library
.UNINDENT
.INDENT 0.0
.TP
.B \-i, \-\-interactive, \-\-no\-interactive
Do some of the actions interactively
.UNINDENT
.INDENT 0.0
.TP
.B \-\-name <name>
Name for the document\(aqs folder (papis format)
.UNINDENT
.INDENT 0.0
.TP
.B \-\-file\-name <file_name>
File name for the document (papis format)
.UNINDENT
.INDENT 0.0
.TP
.B \-\-from\-bibtex <from_bibtex>
Parse information from a bibtex file
.UNINDENT
.INDENT 0.0
.TP
.B \-\-from\-yaml <from_yaml>
Parse information from a yaml file
.UNINDENT
.INDENT 0.0
.TP
.B \-\-from\-folder <from_folder>
Add document from folder being a valid papis document (containing info.yaml)
.UNINDENT
.INDENT 0.0
.TP
.B \-\-from\-url <from_url>
Get document and information from agiven url, a parser must be implemented
.UNINDENT
.INDENT 0.0
.TP
.B \-\-from\-doi <from_doi>
Doi to try to get information from
.UNINDENT
.INDENT 0.0
.TP
.B \-\-from\-pmid <from_pmid>
PMID to try to get information from
.UNINDENT
.INDENT 0.0
.TP
.B \-\-from\-lib <from_lib>
Add document from another library
.UNINDENT
.INDENT 0.0
.TP
.B \-\-confirm, \-\-no\-confirm
Ask to confirm before adding to the collection
.UNINDENT
.INDENT 0.0
.TP
.B \-\-open, \-\-no\-open
Open file before adding document
.UNINDENT
.INDENT 0.0
.TP
.B \-\-edit, \-\-no\-edit
Edit info file before adding document
.UNINDENT
.INDENT 0.0
.TP
.B \-\-commit, \-\-no\-commit
Commit document if library is a git repository
.UNINDENT
.INDENT 0.0
.TP
.B \-\-link, \-\-no\-link
Instead of copying the file to the library, create a link toits original location
.UNINDENT
.INDENT 0.0
.TP
.B \-\-no\-document
Add entry without a document related to it
.UNINDENT
Arguments.INDENT 0.0
.TP
.B FILES
Optional argument(s)
.UNINDENT
.SS Addto
.sp
This command adds files to existing papis documents in some library.
.sp
For instance imagine you have two pdf files, \fBa.pdf\fP and \fBb.pdf\fP
that you want to add to a document that matches with the query string
\fBeinstein photon definition\fP, then you would use
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis addto \(aqeinstein photon definition\(aq \-f a.pdf \-f b.pdf
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
notice that we repeat two times the flag \fB\-f\fP, this is important.
.SS Cli
.SS papis addto
.sp
Add files to an existing document
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis addto [OPTIONS] [QUERY]
.ft P
.fi
.UNINDENT
.UNINDENT
Options.INDENT 0.0
.TP
.B \-h, \-\-help
Show this message and exit.
.UNINDENT
.INDENT 0.0
.TP
.B \-f, \-\-files <files>
File fullpaths to documents
.UNINDENT
.INDENT 0.0
.TP
.B \-\-file\-name <file_name>
File name for the document (papis format)
.UNINDENT
Arguments.INDENT 0.0
.TP
.B QUERY
Optional argument
.UNINDENT
.SS Browse
.sp
This command will try its best to find a source in the internet for the
document at hand.
.sp
Of course if the document has an url key in its info file, it will use this url
to open it in a browser.  Also if it has a doc_url key, or a doi, it will try
to compose urls out of these to open it.
.sp
If none of the above work, then it will try to use a search engine with the
document\(aqs information (using the \fBbrowse\-query\-format\fP).  You can select
wich search engine you want to use using the \fBsearch\-engine\fP setting.
.SS Cli
.SS papis browse
.sp
Open document\(aqs url in a browser
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis browse [OPTIONS] [QUERY]
.ft P
.fi
.UNINDENT
.UNINDENT
Options.INDENT 0.0
.TP
.B \-h, \-\-help
Show this message and exit.
.UNINDENT
.INDENT 0.0
.TP
.B \-k, \-\-key <key>
Use the value of the document\(aqs key to open in the browser, e.g.doi, url, doc_url ...
.UNINDENT
Arguments.INDENT 0.0
.TP
.B QUERY
Optional argument
.UNINDENT
.SS Config
.sp
The command config is a useful command because it allows you to check
the configuration settings\(aq values that your current \fIpapis\fP session
is using.
.sp
For example let\(aqs say that you want to see which \fBdir\fP setting your
current library is using (i.e., the directory or the dir that appears
in the definition of the library in the configuration file), then you
would simply do:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis config dir
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
If you wanted to see which \fBdir\fP the library \fBbooks\fP has, for example
then you would do
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis \-l books config dir
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
This works as well for default settings, i.e., settings that you have not
customized, for example the setting \fBmatch\-format\fP, you would check
it with
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis config match\-format
> {doc[tags]}{doc.subfolder}{doc[title]}{doc[author]}{doc[year]}
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
You can find a list of all available settings in the configuration section.
.SS Cli
.SS papis config
.sp
Print configuration values
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis config [OPTIONS] OPTION
.ft P
.fi
.UNINDENT
.UNINDENT
Options.INDENT 0.0
.TP
.B \-h, \-\-help
Show this message and exit.
.UNINDENT
Arguments.INDENT 0.0
.TP
.B OPTION
Required argument
.UNINDENT
.SS Edit
.sp
This command edits the information of the documents.
The editor used is defined by the \fBeditor\fP configuration setting.
.SS Cli
.SS papis edit
.sp
Edit document information from a given library
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis edit [OPTIONS] [QUERY]
.ft P
.fi
.UNINDENT
.UNINDENT
Options.INDENT 0.0
.TP
.B \-h, \-\-help
Show this message and exit.
.UNINDENT
.INDENT 0.0
.TP
.B \-n, \-\-notes
Edit notes associated to the document
.UNINDENT
.INDENT 0.0
.TP
.B \-\-all
Edit all matching documents
.UNINDENT
Arguments.INDENT 0.0
.TP
.B QUERY
Optional argument
.UNINDENT
.SS Explore
.sp
This command is in an experimental stage but it might be useful for many
people.
.sp
Imagine you want to search for some papers online, but you don\(aqt want to
go into a browser and look for it. Explore gives you way to do this,
using several services available online, more should be coming on the way.
.sp
An excellent such resource is \fI\%crossref\fP,
which you can use by using the subcommand crossref:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis explore crossref \-\-author \(aqFreeman Dyson\(aq
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
If you issue this command, you will see some text but basically nothing
will happen. This is because \fBexplore\fP is conceived in such a way
as to concatenate commands, doing a simple
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis explore crossref \-h
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
will tell you which commands are available.
Let us suppose that you want to look for some documents on crossref,
say some papers of Schroedinger, and you want to store them into a bibtex
file called \fBlib.bib\fP, then you could concatenate the commands
\fBcrossref\fP and \fBexport \-\-bibtex\fP as such
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis explore crossref \-a \(aqSchrodinger\(aq export \-\-bibtex lib.bib
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
This will store everything that you got from crossref in the file \fBlib.bib\fP
and store in bibtex format. \fBexplore\fP is much more flexible than that,
you can also pick just one document to store, for instance let\(aqs assume that
you don\(aqt want to store all retrieved documents but only one that you pick,
the \fBpick\fP command will take care of it
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis explore crossref \-a \(aqSchrodinger\(aq pick export \-\-bibtex lib.bib
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
notice how the \fBpick\fP command is situated before the \fBexport\fP\&.
More generally you could write something like
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis explore \e
    crossref \-a Schroedinger \e
    crossref \-a Einstein \e
    arxiv \-a \(aqFelix Hummel\(aq \e
    export \-\-yaml docs.yaml \e
    pick  \e
    export \-\-bibtex specially\-picked\-document.bib
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
The upper command will look in crossref for documents authored by Schrodinger,
then also by Einstein, and will look on the arxiv for papers authored by Felix
Hummel. At the end, all these documents will be stored in the \fBdocs.yaml\fP\&.
After that we pick one document from them and store the information in
the file \fBspecially\-picked\-document.bib\fP, and we could go on and on.
.sp
If you want to follow\-up on these documents and get them again to pick one,
you could use the \fByaml\fP command to read in document information from a yaml
file, i.e., the previously created \fBdocs.yaml\fP
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis explore \e
    yaml docs.yaml \e
    pick \e
    cmd \(aqpapis scihub {doc[doi]}\(aq \e
    cmd \(aqfirefox {doc[url]}\(aq
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
In this last example, we read the documents\(aq information from \fBdocs.yaml\fP and
pick a document, which then feed into the \fBexplore cmd\fP command, that accepts
a papis formatting string to issue a general shell command.  In this case, the
picked document gets fed into the \fBpapis scihub\fP command which tries to
download the document using \fBscihub\fP, and also this very document is tried to
be opened by firefox (in case the document does have a \fBurl\fP).
.SS Cli
.SS papis explore
.sp
Explore new documents using a variety of resources
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis explore [OPTIONS] COMMAND1 [ARGS]... [COMMAND2 [ARGS]...]...
.ft P
.fi
.UNINDENT
.UNINDENT
Options.INDENT 0.0
.TP
.B \-h, \-\-help
Show this message and exit.
.UNINDENT
.SS arxiv
.sp
Look for documents on ArXiV.org.
.sp
Examples of its usage are
.sp
papis explore arxiv \-a \(aqHummel\(aq \-m 100 arxiv \-a \(aqGarnet Chan\(aq pick
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis explore arxiv [OPTIONS]
.ft P
.fi
.UNINDENT
.UNINDENT
Options.INDENT 0.0
.TP
.B \-h, \-\-help
Show this message and exit.
.UNINDENT
.INDENT 0.0
.TP
.B \-q, \-\-query <query>
.UNINDENT
.INDENT 0.0
.TP
.B \-a, \-\-author <author>
.UNINDENT
.INDENT 0.0
.TP
.B \-t, \-\-title <title>
.UNINDENT
.INDENT 0.0
.TP
.B \-\-abstract <abstract>
.UNINDENT
.INDENT 0.0
.TP
.B \-\-comment <comment>
.UNINDENT
.INDENT 0.0
.TP
.B \-\-journal <journal>
.UNINDENT
.INDENT 0.0
.TP
.B \-\-report\-number <report_number>
.UNINDENT
.INDENT 0.0
.TP
.B \-\-category <category>
.UNINDENT
.INDENT 0.0
.TP
.B \-\-id\-list <id_list>
.UNINDENT
.INDENT 0.0
.TP
.B \-\-page <page>
.UNINDENT
.INDENT 0.0
.TP
.B \-m, \-\-max <max>
.UNINDENT
.SS bibtex
.sp
Import documents from a bibtex file
.sp
Examples of its usage are
.sp
papis explore bibtex lib.bib pick
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis explore bibtex [OPTIONS] BIBFILE
.ft P
.fi
.UNINDENT
.UNINDENT
Options.INDENT 0.0
.TP
.B \-h, \-\-help
Show this message and exit.
.UNINDENT
Arguments.INDENT 0.0
.TP
.B BIBFILE
Required argument
.UNINDENT
.SS citations
.sp
Query the citations of a paper
.sp
Example:
.sp
Go through the citations of a paper and export it in a yaml file
.INDENT 0.0
.INDENT 3.5
papis explore citations \(aqeinstein\(aq export \-\-yaml einstein.yaml
.UNINDENT
.UNINDENT
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis explore citations [OPTIONS] [QUERY]
.ft P
.fi
.UNINDENT
.UNINDENT
Options.INDENT 0.0
.TP
.B \-h, \-\-help
Show this message and exit.
.UNINDENT
.INDENT 0.0
.TP
.B \-m, \-\-max\-citations <max_citations>
Number of citations to be retrieved
.UNINDENT
Arguments.INDENT 0.0
.TP
.B QUERY
Optional argument
.UNINDENT
.SS cmd
.sp
Import documents based on a yaml file
.sp
Examples of its usage are:
.sp
Look for 200 Schroedinger papers, pick one, and add it via papis\-scihub
.sp
papis explore crossref \-m 200 \-a \(aqSchrodinger\(aq pick cmd \(aqpapis scihub {doc[doi]}\(aq
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis explore cmd [OPTIONS] COMMAND
.ft P
.fi
.UNINDENT
.UNINDENT
Options.INDENT 0.0
.TP
.B \-h, \-\-help
Show this message and exit.
.UNINDENT
Arguments.INDENT 0.0
.TP
.B COMMAND
Required argument
.UNINDENT
.SS crossref
.sp
Look for documents on crossref.org.
.sp
Examples of its usage are
.sp
papis explore crossref \-a \(aqAlbert einstein\(aq pick export \-\-bibtex lib.bib
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis explore crossref [OPTIONS]
.ft P
.fi
.UNINDENT
.UNINDENT
Options.INDENT 0.0
.TP
.B \-h, \-\-help
Show this message and exit.
.UNINDENT
.INDENT 0.0
.TP
.B \-q, \-\-query <query>
.UNINDENT
.INDENT 0.0
.TP
.B \-a, \-\-author <author>
.UNINDENT
.INDENT 0.0
.TP
.B \-t, \-\-title <title>
.UNINDENT
.INDENT 0.0
.TP
.B \-m, \-\-max <max>
.UNINDENT
.SS dissemin
.sp
Look for documents on dissem.in
.sp
Examples of its usage are
.sp
papis explore dissemin \-q \(aqAlbert einstein\(aq pick cmd \(aqfirefox {doc[url]}\(aq
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis explore dissemin [OPTIONS]
.ft P
.fi
.UNINDENT
.UNINDENT
Options.INDENT 0.0
.TP
.B \-h, \-\-help
Show this message and exit.
.UNINDENT
.INDENT 0.0
.TP
.B \-q, \-\-query <query>
.UNINDENT
.SS export
.sp
Export retrieved documents into various formats for later use
.sp
Examples of its usage are
.sp
papis explore crossref \-m 200 \-a \(aqSchrodinger\(aq export \-\-yaml lib.yaml
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis explore export [OPTIONS]
.ft P
.fi
.UNINDENT
.UNINDENT
Options.INDENT 0.0
.TP
.B \-h, \-\-help
Show this message and exit.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-bibtex <bibtex>
Export list of documents retrieved to a bibtex file
.UNINDENT
.INDENT 0.0
.TP
.B \-\-yaml <yaml>
Export list of documents retrieved to a yaml file
.UNINDENT
.INDENT 0.0
.TP
.B \-\-json <json>
Export list of documents retrieved to a json file
.UNINDENT
.SS isbnplus
.sp
Look for documents on isbnplus.com
.sp
Examples of its usage are
.sp
papis explore isbnplus \-q \(aqAlbert einstein\(aq pick cmd \(aqfirefox {doc[url]}\(aq
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis explore isbnplus [OPTIONS]
.ft P
.fi
.UNINDENT
.UNINDENT
Options.INDENT 0.0
.TP
.B \-h, \-\-help
Show this message and exit.
.UNINDENT
.INDENT 0.0
.TP
.B \-q, \-\-query <query>
.UNINDENT
.INDENT 0.0
.TP
.B \-a, \-\-author <author>
.UNINDENT
.INDENT 0.0
.TP
.B \-t, \-\-title <title>
.UNINDENT
.SS json
.sp
Import documents from a json file
.sp
Examples of its usage are
.sp
papis explore json lib.json pick
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis explore json [OPTIONS] JSONFILE
.ft P
.fi
.UNINDENT
.UNINDENT
Options.INDENT 0.0
.TP
.B \-h, \-\-help
Show this message and exit.
.UNINDENT
Arguments.INDENT 0.0
.TP
.B JSONFILE
Required argument
.UNINDENT
.SS libgen
.sp
Look for documents on library genesis
.sp
Examples of its usage are
.sp
papis explore libgen \-a \(aqAlbert einstein\(aq export \-\-yaml einstein.yaml
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis explore libgen [OPTIONS]
.ft P
.fi
.UNINDENT
.UNINDENT
Options.INDENT 0.0
.TP
.B \-h, \-\-help
Show this message and exit.
.UNINDENT
.INDENT 0.0
.TP
.B \-a, \-\-author <author>
.UNINDENT
.INDENT 0.0
.TP
.B \-t, \-\-title <title>
.UNINDENT
.INDENT 0.0
.TP
.B \-i, \-\-isbn <isbn>
.UNINDENT
.SS pick
.sp
Pick a document from the retrieved documents
.sp
Examples of its usage are
.sp
papis explore bibtex lib.bib pick
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis explore pick [OPTIONS]
.ft P
.fi
.UNINDENT
.UNINDENT
Options.INDENT 0.0
.TP
.B \-h, \-\-help
Show this message and exit.
.UNINDENT
.SS yaml
.sp
Import documents from a yaml file
.sp
Examples of its usage are
.sp
papis explore yaml lib.yaml pick
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis explore yaml [OPTIONS] YAMLFILE
.ft P
.fi
.UNINDENT
.UNINDENT
Options.INDENT 0.0
.TP
.B \-h, \-\-help
Show this message and exit.
.UNINDENT
Arguments.INDENT 0.0
.TP
.B YAMLFILE
Required argument
.UNINDENT
.SS Export
.sp
The export command is useful to work with other programs such as bibtex.
.sp
Some examples of its usage are:
.INDENT 0.0
.IP \(bu 2
Export one of the documents matching the author with einstein to bibtex:
.UNINDENT
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis export \-\-bibtex \(aqauthor = einstein\(aq
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
or export all of them
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis export \-\-bibtex \-\-all \(aqauthor = einstein\(aq
.ft P
.fi
.UNINDENT
.UNINDENT
.INDENT 0.0
.IP \(bu 2
Export all documents to bibtex and save them into a \fBlib.bib\fP file
.UNINDENT
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis export \-\-all \-\-bibtex \-\-out lib.bib
.ft P
.fi
.UNINDENT
.UNINDENT
.INDENT 0.0
.IP \(bu 2
Export a folder of one of the documents matching the word \fBkrebs\fP
into a folder named, \fBinteresting\-document\fP
.UNINDENT
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
  papis export \-\-folder \-\-out interesting\-document krebs

this will create the folder \(ga\(gainteresting\-document\(ga\(ga containing the
\(ga\(gainfo.yaml\(ga\(ga file, the linked documents and a \(ga\(gabibtex\(ga\(ga file for
sharing with other people.

You can also just export its associated document:
.ft P
.fi
.UNINDENT
.UNINDENT
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis export \-\-file krebs
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Cli
.SS papis export
.sp
Export a document from a given library
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis export [OPTIONS] [QUERY]
.ft P
.fi
.UNINDENT
.UNINDENT
Options.INDENT 0.0
.TP
.B \-h, \-\-help
Show this message and exit.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-yaml
Export into yaml
.UNINDENT
.INDENT 0.0
.TP
.B \-\-bibtex
Export into bibtex
.UNINDENT
.INDENT 0.0
.TP
.B \-\-json
Export into json
.UNINDENT
.INDENT 0.0
.TP
.B \-\-folder
Export document folder to share
.UNINDENT
.INDENT 0.0
.TP
.B \-\-no\-bibtex
When exporting to a folder, do not include the bibtex
.UNINDENT
.INDENT 0.0
.TP
.B \-o, \-\-out
Outfile or outdir
.UNINDENT
.INDENT 0.0
.TP
.B \-t, \-\-text
Text formated reference
.UNINDENT
.INDENT 0.0
.TP
.B \-a, \-\-all
Export all without picking
.UNINDENT
.INDENT 0.0
.TP
.B \-\-file
Export a copy of a file
.UNINDENT
Arguments.INDENT 0.0
.TP
.B QUERY
Optional argument
.UNINDENT
.SS Git
.sp
This command is useful if your library is itself a git repository.
You can use this command to issue git commands in your library
repository without having to change your current directory.
.SS CLI Examples
.INDENT 0.0
.INDENT 3.5
.INDENT 0.0
.IP \(bu 2
Check the status of the library repository:
.UNINDENT
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis git status
.ft P
.fi
.UNINDENT
.UNINDENT
.INDENT 0.0
.IP \(bu 2
Commit all changes:
.UNINDENT
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis git commit \-a
.ft P
.fi
.UNINDENT
.UNINDENT
.UNINDENT
.UNINDENT
.SS List
.sp
This command is to list contents of a library.
.SS CLI Examples
.INDENT 0.0
.IP \(bu 2
List all document files associated will all entries:
.INDENT 2.0
.INDENT 3.5
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis list \-\-file
.ft P
.fi
.UNINDENT
.UNINDENT
.UNINDENT
.UNINDENT
.IP \(bu 2
List all document year and title with custom formatting:
.INDENT 2.0
.INDENT 3.5
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis list \-\-format \(aq{doc[year]} {doc[title]}\(aq
.ft P
.fi
.UNINDENT
.UNINDENT
.UNINDENT
.UNINDENT
.IP \(bu 2
List all documents according to the bibitem formatting (stored in a template
file \fBbibitem.template\fP):
.INDENT 2.0
.INDENT 3.5
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis list \-\-template bibitem.template
.ft P
.fi
.UNINDENT
.UNINDENT
.UNINDENT
.UNINDENT
.UNINDENT
.SS Python examples
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
# Import the run function from the list command

from papis.commands.list import run as papis_list

documents = papis_list(query=\(aqeinstein\(aq, library=\(aqpapis\(aq)

for doc in documents:
    print(doc["url"])

# etc...
info_files = list(query=\(aqeinstein\(aq, library=\(aqpapis\(aq, info_files=True)

# do something with the info file paths...
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Cli
.SS papis list
.sp
List documents\(aq properties
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis list [OPTIONS] [QUERY]
.ft P
.fi
.UNINDENT
.UNINDENT
Options.INDENT 0.0
.TP
.B \-h, \-\-help
Show this message and exit.
.UNINDENT
.INDENT 0.0
.TP
.B \-i, \-\-info
Show the info file name associated with the document
.UNINDENT
.INDENT 0.0
.TP
.B \-f, \-\-file
Show the file name associated with the document
.UNINDENT
.INDENT 0.0
.TP
.B \-d, \-\-dir
Show the folder name associated with the document
.UNINDENT
.INDENT 0.0
.TP
.B \-\-format <format>
List entries using a custom papis format, e.g. \(aq{doc[year] {doc[title]}
.UNINDENT
.INDENT 0.0
.TP
.B \-\-template <template>
Template file containing a papis format to list entries
.UNINDENT
.INDENT 0.0
.TP
.B \-p, \-\-pick
Pick the document instead of listing everything
.UNINDENT
.INDENT 0.0
.TP
.B \-\-downloaders
List available downloaders
.UNINDENT
.INDENT 0.0
.TP
.B \-\-libraries
List defined libraries
.UNINDENT
Arguments.INDENT 0.0
.TP
.B QUERY
Optional argument
.UNINDENT
.SS Mv
.SS Cli
.SS papis mv
.sp
Move a document into some other path
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis mv [OPTIONS] [QUERY]
.ft P
.fi
.UNINDENT
.UNINDENT
Options.INDENT 0.0
.TP
.B \-h, \-\-help
Show this message and exit.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-git, \-\-no\-git
Add git interoperability
.UNINDENT
Arguments.INDENT 0.0
.TP
.B QUERY
Optional argument
.UNINDENT
.SS Open
.sp
The open command is a very important command in the papis workflow.
With it you can open documents, folders or marks.
.SS Marks
.sp
One of special things about this command is the possibility of
creating marks for documents. As you would imagine, it is in general
difficult to create marks for any kind of data. For instance,
if our library consists of pdf files and epub files for instance,
we would like to define bookmarks in order to go back to them at
some later point.
.sp
How you define marks can be customized through the marks configuration
settings here\&.
The default way of doing it is just by defining a \fBmarks\fP list in a document.
Let us look at a concrete example:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
author: Isaiah Shavitt, Rodney J. Bartlett
edition: \(aq1\(aq
files: [book.pdf]
isbn: 052181832X,9780521818322

marks:
\- {name: Intermediates definition, value: 344}
\- {name: EOM equations, value: 455}

publisher: Cambridge University Press
ref: book:293288
series: Cambridge Molecular Science
title: \(aqMany\-Body Methods in Chemistry and Physics\(aq
type: book
year: \(aq2009\(aq
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
This book has defined two marks. Each mark has a name and a value.
If you tell the open command to open marks, then it will look for
the marks and open the value (page number). This is the default behaviour,
however if you go to the configuration
you\(aqll see that you can change the convention to what it suits you.
.SS Examples
.INDENT 0.0
.IP \(bu 2
Open a pdf file linked to a document matching the string \fBbohm\fP
.INDENT 2.0
.INDENT 3.5
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis open bohm
.ft P
.fi
.UNINDENT
.UNINDENT
.UNINDENT
.UNINDENT
.IP \(bu 2
Open the folder where this last document is stored
.INDENT 2.0
.INDENT 3.5
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis open \-d bohm
.ft P
.fi
.UNINDENT
.UNINDENT
.UNINDENT
.UNINDENT
.sp
Please notice that the file browser used will be also related to
the file\-browser setting\&.
.IP \(bu 2
Open a mark defined in the info file
.INDENT 2.0
.INDENT 3.5
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis open \-\-mark bohm
.ft P
.fi
.UNINDENT
.UNINDENT
.UNINDENT
.UNINDENT
.UNINDENT
.SS Cli
.SS papis open
.sp
Open document from a given library
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis open [OPTIONS] [QUERY]
.ft P
.fi
.UNINDENT
.UNINDENT
Options.INDENT 0.0
.TP
.B \-h, \-\-help
Show this message and exit.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-tool <tool>
Tool for opening the file (opentool)
.UNINDENT
.INDENT 0.0
.TP
.B \-d, \-\-dir
Open directory
.UNINDENT
.INDENT 0.0
.TP
.B \-\-all
Open all matching documents
.UNINDENT
.INDENT 0.0
.TP
.B \-m, \-\-mark, \-\-no\-mark
Open mark
.UNINDENT
Arguments.INDENT 0.0
.TP
.B QUERY
Optional argument
.UNINDENT
.SS Rename
.SS Cli
.SS papis rename
.sp
Rename entry
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis rename [OPTIONS] [QUERY]
.ft P
.fi
.UNINDENT
.UNINDENT
Options.INDENT 0.0
.TP
.B \-h, \-\-help
Show this message and exit.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-git, \-\-no\-git
Add git interoperability
.UNINDENT
Arguments.INDENT 0.0
.TP
.B QUERY
Optional argument
.UNINDENT
.SS Rm
.SS Cli
.SS papis rm
.sp
Delete command for several objects
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis rm [OPTIONS] [QUERY]
.ft P
.fi
.UNINDENT
.UNINDENT
Options.INDENT 0.0
.TP
.B \-h, \-\-help
Show this message and exit.
.UNINDENT
.INDENT 0.0
.TP
.B \-\-file
Remove files from a document instead of the whole folder
.UNINDENT
.INDENT 0.0
.TP
.B \-f, \-\-force
Do not confirm removal
.UNINDENT
Arguments.INDENT 0.0
.TP
.B QUERY
Optional argument
.UNINDENT
.SS Run
.sp
This command is useful to issue commands in the directory of your library.
.SS CLI Examples
.INDENT 0.0
.INDENT 3.5
.INDENT 0.0
.IP \(bu 2
List files in your directory
.UNINDENT
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis run ls
.ft P
.fi
.UNINDENT
.UNINDENT
.INDENT 0.0
.IP \(bu 2
Find a file in your directory using the \fBfind\fP command
.UNINDENT
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis run find \-name \(aqdocument.pdf\(aq
.ft P
.fi
.UNINDENT
.UNINDENT
.UNINDENT
.UNINDENT
.SS Python examples
.SS Cli
.SS papis run
.sp
Run an arbitrary shell command in the library folder
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis run [OPTIONS] [RUN_COMMAND]...
.ft P
.fi
.UNINDENT
.UNINDENT
Options.INDENT 0.0
.TP
.B \-h, \-\-help
Show this message and exit.
.UNINDENT
Arguments.INDENT 0.0
.TP
.B RUN_COMMAND
Optional argument(s)
.UNINDENT
.SS Update
.sp
This command is to update the information of the documents.
Some examples of the usage are given below
.SS Examples
.INDENT 0.0
.IP \(bu 2
Update a document automatically and interactively
(searching by \fBdoi\fP number in \fIcrossref\fP, or in other sources...)
.INDENT 2.0
.INDENT 3.5
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis update \-\-auto \-i "author = dyson"
.ft P
.fi
.UNINDENT
.UNINDENT
.UNINDENT
.UNINDENT
.IP \(bu 2
Update your library from a bib(la)tex file where many entries are listed.
papis will try to look for documents in your library that match these
entries and will ask you entry per entry to update it (of course this is
done if you use the \fB\-i\fP flag for interactively doing it). In the example
\fBlibraryfile.bib\fP is a file containing many entries.
.INDENT 2.0
.INDENT 3.5
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis update \-\-from\-bibtex libraryfile.bib \-i
.ft P
.fi
.UNINDENT
.UNINDENT
.UNINDENT
.UNINDENT
.UNINDENT
.SS Cli
.SS papis update
.sp
Update a document from a given library
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis update [OPTIONS] [QUERY]
.ft P
.fi
.UNINDENT
.UNINDENT
Options.INDENT 0.0
.TP
.B \-h, \-\-help
Show this message and exit.
.UNINDENT
.INDENT 0.0
.TP
.B \-i, \-\-interactive, \-\-no\-interactive
Interactively update
.UNINDENT
.INDENT 0.0
.TP
.B \-f, \-\-force
Force update, overwrite conflicting information
.UNINDENT
.INDENT 0.0
.TP
.B \-d, \-\-document <document>
Overwrite an existing document
.UNINDENT
.INDENT 0.0
.TP
.B \-\-from\-crossref <from_crossref>
Update info from crossref.org
.UNINDENT
.INDENT 0.0
.TP
.B \-\-from\-isbnplus <from_isbnplus>
Update info from isbnplus.org
.UNINDENT
.INDENT 0.0
.TP
.B \-\-from\-yaml <from_yaml>
Update info from yaml file
.UNINDENT
.INDENT 0.0
.TP
.B \-\-from\-bibtex <from_bibtex>
Update info from bibtex file
.UNINDENT
.INDENT 0.0
.TP
.B \-\-from\-url <from_url>
Get document or information from url
.UNINDENT
.INDENT 0.0
.TP
.B \-\-from\-doi <from_doi>
Doi to try to get information from
.UNINDENT
.INDENT 0.0
.TP
.B \-\-auto
Try to parse information from different sources
.UNINDENT
.INDENT 0.0
.TP
.B \-\-all
Update all entries in library
.UNINDENT
Arguments.INDENT 0.0
.TP
.B QUERY
Optional argument
.UNINDENT
.SH CUSTOM SCRIPTS
.sp
As in \fI\%git\fP, you can write custom scripts to
include them in the command spectrum of papis.
.SS Example: Mail script
.sp
Imagine you want to write a script to send papers to someone via the email
client \fBmutt\fP (you can try to do it with another mail client), you could
write the following script called \fBpapis\-mail\fP:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
#! /usr/bin/env bash
# papis\-short\-help: Email a paper to my friend

folder_name=$1
zip_name="${folder_name}\&.zip"

papis \-l ${PAPIS_LIB} export \-\-folder \-\-out ${folder_name}
zip \-r ${zip_name} ${folder_name}

mutt \-a ${zip_name}
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Papis defines environment variables such as \fBPAPIS_LIB\fP so that external
scripts can make use of the user input.
.sp
To use the script you can put it somewhere in your \fBPATH\fP or alternatively
inside the \fB~/.papis/scripts\fP folder. If this is the case then you can run
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis \-h
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
and you will see that there is another command besides the default
called \fBmail\fP\&. You will see in fact
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
positional arguments:
  command               For further information for every command, type in \(aqpapis <command> \-h\(aq
    add                 Add a document into a given library
    .............       ..........................
    mail                Email a paper to my friend

optional arguments:
  \-h, \-\-help            show this help message and exit
  ... .........         .... ... ...... ....... ........... .. ..... ......
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
where the description \fBEmail a paper to my friend\fP is there because
we have defined the comment \fB# papis\-short\-help: Email a paper to my friend\fP
in the header of the script.
.sp
Then if you type
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis \-l mylib mail this_paper
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
this will create a folder called \fBthis_paper\fP with a selection of a
document, zip it, and send it to whoever you choose to.
.SS Example: Accessing papis from within mutt
.sp
You may want to pick documents to attach to your email in \fBmutt\fP
from the papis interface.
.sp
Add this code to your \fBmuttrc\fP
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
# # macro to attach paper from papis
macro attach,compose \ecp \e
"\e
<enter\-command>unset wait_key<enter>\e                        # Don\(aqt require \(aqpress any key\(aq
<shell\-escape>rm \-f /tmp/paper.pdf<enter>\e                   # remove the file /tmp/paper.pdf if it already exists
<shell\-escape>papis export \-\-file \-o /tmp/paper.pdf<enter>\e  # start papis with the \-\-file flag
<attach\-file>/tmp/paper.pdf<enter>\e                          # attach the new file created by papis
"
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Try it out with \fBCtrl\-p\fP on your \fBCompose\fP screen. This makes use
of the \fBpapis export \-\-file\fP flag that moves the paper you choose to
a temporary location (\fB/tmp/paper.pdf\fP). Mutt will then attach the
paper to the email, which you can rename to be more descriptive with
\fBR\fP\&.
.SS Example: Define papis mode in i3wm
.sp
This is an example of using papis with the window manager \fIi3\fP\&.
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
# Enter papis mode
bindsym $mod+Ctrl+p mode "papis"

# Define papis mode
mode "papis" {

  # open documents
  bindsym $mod+o exec python3 \-m papis.main \e
    \-\-pick\-lib \-\-set picktool dmenu open

  # edit documents
  bindsym $mod+e exec python3 \-m papis.main \e
    \-\-pick\-lib \-\-set picktool dmenu \-\-set editor gvim edit

  # open document\(aqs url
  bindsym $mod+b exec python3 \-m papis.main \e
    \-\-pick\-lib \-\-set picktool dmenu browse

  # return to default mode
  bindsym Ctrl+c mode "default"
  bindsym Return mode "default"
  bindsym Escape mode "default"
}
.ft P
.fi
.UNINDENT
.UNINDENT
.SH API
.sp
This module describes which functions are intended to be used by users to
create papis scripts.
.INDENT 0.0
.TP
.B papis.api.clear_lib_cache(lib=None)
Clear cache associated with a library. If no library is given
then the current library is used.
.INDENT 7.0
.TP
.B Parameters
\fBlib\fP (\fIstr\fP) \-\- Library name.
.UNINDENT
.sp
.nf
.ft C
>>> clear_lib_cache()
.ft P
.fi
.UNINDENT
.INDENT 0.0
.TP
.B papis.api.edit_file(file_path, wait=True)
Edit file using the \fBeditor\fP key value as a program to
handle file_path.
.INDENT 7.0
.TP
.B Parameters
.INDENT 7.0
.IP \(bu 2
\fBfile_path\fP (\fIstr\fP) \-\- File path to be handled.
.IP \(bu 2
\fBwait\fP (\fIbool\fP) \-\- Wait for the completion of the opener program to continue
.UNINDENT
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
.B papis.api.get_all_documents_in_lib(library=None)
Get ALL documents contained in the given library with possibly.
.INDENT 7.0
.TP
.B Parameters
\fBlibrary\fP (\fIstr\fP) \-\- Library name.
.TP
.B Returns
List of all documents.
.TP
.B Return type
list
.UNINDENT
.sp
.nf
.ft C
>>> import tempfile
>>> folder = tempfile.mkdtemp()
>>> set_lib(folder)
>>> docs = get_all_documents_in_lib(folder)
>>> len(docs)
0
.ft P
.fi
.UNINDENT
.INDENT 0.0
.TP
.B papis.api.get_documents_in_dir(directory, search=\(aq\(aq)
Get documents contained in the given folder with possibly a search
string.
.INDENT 7.0
.TP
.B Parameters
.INDENT 7.0
.IP \(bu 2
\fBdirectory\fP (\fIstr\fP) \-\- Folder path.
.IP \(bu 2
\fBsearch\fP (\fIstr\fP) \-\- Search string
.UNINDENT
.TP
.B Returns
List of filtered documents.
.TP
.B Return type
list
.UNINDENT
.sp
.nf
.ft C
>>> import tempfile
>>> docs = get_documents_in_dir(tempfile.mkdtemp())
>>> len(docs)
0
.ft P
.fi
.UNINDENT
.INDENT 0.0
.TP
.B papis.api.get_documents_in_lib(library=None, search=\(aq\(aq)
Get documents contained in the given library with possibly a search
string.
.INDENT 7.0
.TP
.B Parameters
.INDENT 7.0
.IP \(bu 2
\fBlibrary\fP (\fIstr\fP) \-\- Library name.
.IP \(bu 2
\fBsearch\fP (\fIstr\fP) \-\- Search string
.UNINDENT
.TP
.B Returns
List of filtered documents.
.TP
.B Return type
list
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
.B papis.api.get_lib()
Get current library, it either retrieves the library from
the environment PAPIS_LIB variable or from the command line
args passed by the user.
.INDENT 7.0
.TP
.B Returns
Library name
.TP
.B Return type
str
.UNINDENT
.sp
.nf
.ft C
>>> get_lib() is not None
True
.ft P
.fi
.UNINDENT
.INDENT 0.0
.TP
.B papis.api.get_libraries()
Get all libraries declared in the configuration. A library is discovered
if the \fBdir\fP key defined in the library section.
.INDENT 7.0
.TP
.B Returns
List of library names
.TP
.B Return type
list
.UNINDENT
.sp
.nf
.ft C
>>> len(get_libraries()) >= 1
True
.ft P
.fi
.UNINDENT
.INDENT 0.0
.TP
.B papis.api.open_dir(dir_path, wait=True)
Open dir using the \fBfile\-browser\fP key value as a program to
open dir_path.
.INDENT 7.0
.TP
.B Parameters
.INDENT 7.0
.IP \(bu 2
\fBdir_path\fP (\fIstr\fP) \-\- Folder path to be handled.
.IP \(bu 2
\fBwait\fP (\fIbool\fP) \-\- Wait for the completion of the opener program to continue
.UNINDENT
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
.B papis.api.open_file(file_path, wait=True)
Open file using the \fBopentool\fP key value as a program to
handle file_path.
.INDENT 7.0
.TP
.B Parameters
.INDENT 7.0
.IP \(bu 2
\fBfile_path\fP (\fIstr\fP) \-\- File path to be handled.
.IP \(bu 2
\fBwait\fP (\fIbool\fP) \-\- Wait for the completion of the opener program to continue
.UNINDENT
.UNINDENT
.UNINDENT
.INDENT 0.0
.TP
.B papis.api.pick(options: list, pick_config={})
This is a wrapper for the various pickers that are supported.
Depending on the configuration different selectors or \(aqpickers\(aq
are used.
.INDENT 7.0
.TP
.B Parameters
.INDENT 7.0
.IP \(bu 2
\fBoptions\fP (\fIlist\fP) \-\- List of different objects. The type of the objects within
the list must be supported by the pickers. This is the reason why this
function is difficult to generalize for external picker programs.
.IP \(bu 2
\fBpick_config\fP (\fIdict\fP) \-\- Dictionary with additional configuration for the used
picker. This depends on the picker.
.UNINDENT
.TP
.B Returns
Returns elements of \fBoptions\fP\&.
.TP
.B Return type
Element(s) of \fBoptions\fP
.UNINDENT
.sp
.nf
.ft C
>>> papis.config.set(\(aqpicktool\(aq, \(aqpapis.pick\(aq)
>>> pick([\(aqsomething\(aq])
\(aqsomething\(aq
>>> papis.config.set(\(aqpicktool\(aq, \(aqnonexistent\(aq)
>>> pick([\(aqsomething\(aq])
Traceback (most recent call last):
\&...
Exception: I don\(aqt know how to use the picker \(aqnonexistent\(aq
>>> papis.config.set(\(aqpicktool\(aq, \(aqpapis.pick\(aq)
.ft P
.fi
.UNINDENT
.INDENT 0.0
.TP
.B papis.api.pick_doc(documents: list)
Pick a document from documents with the correct formatting
.INDENT 7.0
.TP
.B Documents
List of documents
.TP
.B Returns
Document
.UNINDENT
.sp
.nf
.ft C
>>> from papis.document import from_data
>>> doc = from_data({\(aqtitle\(aq: \(aqHello World\(aq})
>>> pick_doc([doc]).dump()
\(aqtitle:   Hello World\en\(aq
.ft P
.fi
.UNINDENT
.INDENT 0.0
.TP
.B papis.api.set_lib(library)
Set current library, it either sets the library in
the environment PAPIS_LIB variable or in the command line
args passed by the user.
.INDENT 7.0
.TP
.B Parameters
\fBlibrary\fP (\fIstr\fP) \-\- Name of library or path to a given library
.UNINDENT
.UNINDENT
.SH GIT
.sp
Papis is conceived to work well with the tool \fIgit\fP, this would also work with
\fI\%mercurial\fP
or \fI\%subversion\fP\&.
.sp
Here you will find a description of a possible workflow using git with papis.
This is not the only workflow, but it is the most obvious.
.sp
Let\(aqs say you have a library named \fBbooks\fP in the directory
\fB~/Documents/MyNiceBooks\fP\&. You could turn the \fBbooks\fP library into
a \fIgit\fP repository, just doing for example
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis \-l books run git init
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
or just going to the library directory and running the command there:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
cd ~/Documents/MyNiceBooks
git init
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Now you can add everything you have in the library with \fBgit add .\fP
if you are in the library\(aqs directory or
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis \-l books git add .
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
if you want to do it using the \fIpapis\fP\(aq \fBgit\fP command.
.SS Interplay with other commands
.sp
Some papis commands give you the opportunity of using \fBgit\fP to manage
changes. For instance if you are adding a new document, you could use
the \fB\-\-commit\fP flag to also add a commit into your library, so if you do
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis add \-\-set author "Pedrito" \-\-set title "Super book" book.pdf \-\-commit
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
then also papis will do an automatic commit for the book, so that you can
push your library afterwards to a remote repository.
.sp
You can imagine that papis command like \fBrename\fP and \fBmv\fP should also
offer such functionality, and they indeed do through the \fB\-\-git\fP flag.
Go to their documentation for more information.
.SS Updating the libray
.sp
You can use the papis\(aq simple \fBgit\fP wrapper,
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis git pull
.ft P
.fi
.UNINDENT
.UNINDENT
.SS Usual workflow
.sp
Usually the workflow is like this:
.sp
When adding a document that you know for sure you want in your library:
.INDENT 0.0
.INDENT 3.5
.INDENT 0.0
.IP \(bu 2
Add the document and commit it, either by \fBgit add \-\-commit\fP
or committing the document after adding it to the library.
.IP \(bu 2
Pull changes from the remote library, maybe you pushed something
at work (reference changes etc..) and you do not have it yet there,
you would do something like
.INDENT 2.0
.INDENT 3.5
.sp
.nf
.ft C
papis git pull
.ft P
.fi
.UNINDENT
.UNINDENT
.IP \(bu 2
Push what you just added
.INDENT 2.0
.INDENT 3.5
.sp
.nf
.ft C
papis git push
.ft P
.fi
.UNINDENT
.UNINDENT
.IP \(bu 2
Review the status of the library
.INDENT 2.0
.INDENT 3.5
.sp
.nf
.ft C
papis git status
.ft P
.fi
.UNINDENT
.UNINDENT
.UNINDENT
.UNINDENT
.UNINDENT
.sp
When editing a document\(aqs info file:
.INDENT 0.0
.INDENT 3.5
.INDENT 0.0
.IP \(bu 2
Edit the file and then take a look at the \fBdiff\fP maybe
.INDENT 2.0
.INDENT 3.5
.sp
.nf
.ft C
papis git diff
.ft P
.fi
.UNINDENT
.UNINDENT
.IP \(bu 2
Add the changes
.INDENT 2.0
.INDENT 3.5
.sp
.nf
.ft C
papis git add \-a
.ft P
.fi
.UNINDENT
.UNINDENT
.IP \(bu 2
Commit
.INDENT 2.0
.INDENT 3.5
.sp
.nf
.ft C
papis git commit
.ft P
.fi
.UNINDENT
.UNINDENT
.IP \(bu 2
Pull/push:
.INDENT 2.0
.INDENT 3.5
.sp
.nf
.ft C
papis git pull
papis git push
.ft P
.fi
.UNINDENT
.UNINDENT
.UNINDENT
.UNINDENT
.UNINDENT
.sp
Of course these workflows are just very basic examples, you can imagine
that your workflow would look completely different.
.SH SCIHUB SUPPORT
.sp
Papis has a script that uses the scihub platform to download scientific
papers. Due to legal caution the script is not included directly
as a papis command, and it is written \fBbash\fP\&.
.sp
If you want to use it, you can download it from
\fI\%here\fP
and copy it into your papis script folder.
.sp
Usuar locations for your script folder are
.INDENT 0.0
.INDENT 3.5
.INDENT 0.0
.IP \(bu 2
\fB~/.config/papis/scripts\fP
.IP \(bu 2
\fB~/.papis/scripts\fP
.UNINDENT
.UNINDENT
.UNINDENT
.sp
Therefore, if you decide to have the script folder in the first option,
you can install the script by doing:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
wget \-O ~/.config/papis/scripts/papis\-scihub https://raw.githubusercontent.com/alejandrogallo/papis/master/examples/scripts/papis\-scihub
chmod +x ~/.config/papis/scripts/papis\-scihub
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
The \fBchmod +x\fP command is necessary to make the \fBpapis\-scihub\fP file
executable.
.sp
Now you can type
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis scihub \-h
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
and see the help message of the script.
.sp
Some usage examples are:
.INDENT 0.0
.INDENT 3.5
.INDENT 0.0
.IP \(bu 2
Download via the doi number:
.INDENT 2.0
.INDENT 3.5
.sp
.nf
.ft C
papis scihub 10\&.1002/andp.19053220607 \-d einstein_papers \-\-name photon_definition
.ft P
.fi
.UNINDENT
.UNINDENT
.IP \(bu 2
Download via a url that contains the doi number in the format \fB\&.*/doi/<doinumber>\fP
.INDENT 2.0
.INDENT 3.5
.sp
.nf
.ft C
papis scihub http://physicstoday.scitation.org/doi/10.1063/1.881498 \-\-name important_paper
.ft P
.fi
.UNINDENT
.UNINDENT
.IP \(bu 2
Download via the \fBdoi.org\fP url:
.INDENT 2.0
.INDENT 3.5
.sp
.nf
.ft C
papis scihub https://doi.org/10.1016/j.physrep.2016.12.002
.ft P
.fi
.UNINDENT
.UNINDENT
.UNINDENT
.UNINDENT
.UNINDENT
.SH IMPORTING FROM BIBTEX FILES
.sp
Many users will want to import a library from a bibtex file
that another program such as \fBzotero\fP, \fBmendeley\fP or
\fBjabref\fP will have exported. These programs usually have a
field called \fBFILE\fP or \fBfile\fP that points to a path
where the document file can be found.
.sp
To import such a library you can use a script originally
intended for \fBzotero\fP but that is general enought to work
for other programs too.
.sp
To install this script you can copy the file \fBpapis\-zotero\fP in the
repository\(aqs example directory to your papis \fBconfig/scripts\fP directory.
.sp
You can do this automatically issuing the following commands
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
wget \-O ~/.config/papis/scripts/papis\-zotero https://raw.githubusercontent.com/alejandrogallo/papis/master/examples/scripts/papis\-zotero
chmod +x ~/.config/papis/scripts/papis\-zotero
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Now the zotero script is accessible from papis:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis zotero \-h
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
If you have a bibtex somewhere in your computer, you can use the script:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis zotero library.bib
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
\fBWARNING:\fP
.INDENT 0.0
.INDENT 3.5
Note that if your bibtex file has some pdf entries, i.e., looks like:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
@article{Einstein1905Photon,
  author = { A. Einstein },
  doi = { 10.1002/andp.19053220607 },
  journal = { Ann. Phys. },
  pages = { 132\-\-148 },
  title = { Über einen die Erzeugung und Verwandlung des Lichtes betreffenden heuristischen Gesichtspunkt },
  FILE = { path/to/some/relative/file.pdf },
  volume = { 322 },
  year = { 1905 },
}
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
then \fBpapis\-zotero\fP will interpret the path of the \fBFILE\fP entry
as a relative path, so you should run the command where this relative path
makes sense.
.UNINDENT
.UNINDENT
.SH IMPORTING FROM ZOTERO SQLITE FILE
.sp
There is also a script that decodes the
\fBzotero.sqlite\fP sqlite file that \fBzotero\fP uses to manage documents
and creates papis Documents out of it.
.sp
This script will retrieve the documents from zotero (be it \fBpdf\fP documents
or else) and important information like tags.
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
wget \-O ~/.config/papis/scripts/papis\-zotero\-sql https://raw.githubusercontent.com/alejandrogallo/papis/master/examples/scripts/papis\-zotero\-sql
chmod +x ~/.config/papis/scripts/papis\-zotero\-sql
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Now you have to go to the directory where zotero saves all the information,
it would look something like this on linux systems:
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
cd ~/.mozilla/firefox/zqb7ju1q.default/zotero
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
Maybe the path is slightly different, it may vary from version to version from
zotero.  In the zotero data directory there should be a file called
\fBzotero.sqlite\fP and there might be a \fBstorage\fP directory with
document data inside. These will be used by \fBzotero\-sql\fP to
retrieve information and files from.
.sp
Now you can use the script as
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis zotero\-sql
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
This script by default will create a directory named \fBDocuments\fP (in your
current directory) where papis documents are stored. You can add these document
by simply moving them to your library folder
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
mv Documents/*      /path/to/your/papis/library
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
or also by adding them through papis using the folder flag
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
papis add \-\-from\-folder Documents/ZOTERO_ID
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
or write a \fBbash\fP for loop to do it with all the converted documents
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
for folder in Documents/* ; do papis add \-\-from\-folder $folder ; done
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
\fBWARNING:\fP
.INDENT 0.0
.INDENT 3.5
Please be aware that the database structure of zotero is version dependent
and this script \fBmight\fP not work fully with your version.
You can check \fI\%issue #18\fP
for more information.
.UNINDENT
.UNINDENT
.SH SHELL AUTOCOMPLETION
.sp
Papis has a bash autocompletion script that comes installed
when you install papis with \fBpip3\fP\&.
.sp
It should be installed in a relative path
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
PREFIX/etc/bash_completion.d/papis
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
normally the \fBPREFIX\fP part is \fB/usr/local/\fP, so you can add the
following line to your \fB~/.bashrc\fP file
.INDENT 0.0
.INDENT 3.5
.sp
.nf
.ft C
source /usr/local/etc/bash_completion.d/papis
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
or get the bash script from
\fI\%here\fP\&.
.SH FAQ
.sp
Here are some problems that users have come accross with often:
.INDENT 0.0
.IP \(bu 2
When I remove a folder manually in a library or I synchronize manually
the library I do not see the new papers in the library.
\fBAnswer\fP: You probably need to update the cache because papis did not
know anything about your changes in the library since you did it by yourself.
.INDENT 2.0
.INDENT 3.5
.sp
.nf
.ft C
papis \-\-clear\-cache
.ft P
.fi
.UNINDENT
.UNINDENT
.sp
will do.
.UNINDENT
.sp
For more information you can also check the
\fI\%github faq\fP link.
.INDENT 0.0
.IP \(bu 2
genindex
.IP \(bu 2
modindex
.IP \(bu 2
search
.UNINDENT
.SH AUTHOR
Alejandro Gallo
.SH COPYRIGHT
2017, Alejandro Gallo
.\" Generated by docutils manpage writer.
.
